{"version":3,"sources":["webpack:///./sharedemos/static/js/audience/models/audience_company.js","webpack:///./sharedemos/static/js/audience/models/audience_employee.js","webpack:///./sharedemos/static/js/audience/templates/audience_list.handlebars","webpack:///./sharedemos/static/js/audience/templates/overlay.handlebars","webpack:///./sharedemos/static/js/audience/views/audience.js","webpack:///./sharedemos/static/js/helpers/handlebars/math.js","webpack:///./sharedemos/static/js/tenant/models/url_unfurl.js"],"names":["define","Backbone","AudienceCompany","Model","extend","urlRoot","AudienceEmployee","url","get","_","$","Common","ProductTree","WebsiteInfo","AudienceList","Overlay","AudienceHomeView","View","el","MESSAGE_LIMIT","events","updateUrl","initialize","window","on","modalHeightCalc","render","resetUI","audiences_list","root","fetch","success","model","response","$el","find","html","loadInitials","addEditCompany","event","audience_id","currentTarget","parents","attr","audience","is_company","is_editing","message_limit","addClass","saveCompany","hasClass","name","val","trim","website","message","attrs","id","removeClass","save","validateCompany","validated","indexOf","value","length","validateUrl","textLength","parseInt","parent","text","proceedToMessage","siblings","target","website_info","data","external_url","encodeURI","icon_name","error","options","responseJSON","goToName","confirmDeleteCompany","deleteCompany","actionInProgress","destroy","actionSuccess","setTimeout","actionFailed","addEditEmployee","employee_id","employee","is_employee","saveEmployee","fname","lname","email","console","log","validateEmployee","validateEmail","confirmDeleteEmployee","deleteEmployee","browseLibrary","tree","get_cache","author","selected_categories","buildTree","updateSelectCount","xhr","status_code","backToShareHome","startShare","count","sections","datepicker","language","dateFormat","minDate","Date","clearButton","onSelect","selectedDate","hide","expire_at","selectDate","shareContent","section_list","link_expiry_date","patch","pickContent","level","split","substr","i","children","total_selected","selectContent","selected_list","_sections","map","toggleTreeContent","show","empty","removeAttr","windowHeight","height","css","type","input","slug","order","append","parent_id","playlists","demos","initial","module","exports","lvalue","operator","rvalue","parseFloat","Urlunfurl"],"mappings":"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","file":"24.6b75f3.js","sourcesContent":["/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var AudienceCompany = Backbone.Model.extend({\n        urlRoot: \"/api/audience-company\"\n    });\n\n    return AudienceCompany;\n});","/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var AudienceEmployee = Backbone.Model.extend({\n\n        urlRoot: \"/api/audience-employee/\",\n\n        url : function(){\n            var url = this.urlRoot + this.get('audience_id');\n            if(this.get('id')){\n                url += '/' + this.get('id')\n            }\n            return url;\n        }\n    });\n\n    return AudienceEmployee;\n});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"audience-wrap company\\\">\\n        <div class=\\\"company-manage\\\">\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-md-12\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"audiences\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":20},\"end\":{\"line\":53,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </div>\\n            </div>\\n        </div>\\n    </div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <div class=\\\"company_profile\\\" data-audience-id='\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"company_id\") : depth0), depth0))\n    + \"'>\\n                        <div class=\\\"cp_delete\\\"></div>\\n                        <div class=\\\"company_details\\\">\\n                            <div class=\\\"logo\\\">\\n                                <img src=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"logo_url\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":42},\"end\":{\"line\":11,\"column\":116}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n                            </div>\\n                            <div class=\\\"company_info\\\">\\n                                <div class=\\\"title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"<div class=\\\"company_edit\\\"></div></div>\\n                                <a class=\\\"link\\\" href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"website_url\") : depth0), depth0))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"website_url\") : depth0), depth0))\n    + \"</a>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"share_content\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"users\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":49},\"end\":{\"line\":18,\"column\":83}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n                            SHARE CONTENT\\n                            <div>Sharing content is only possible when employees from this company are added. Employees added will receive a private link to access your content.</div>\\n                        </div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"expire_at\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":24},\"end\":{\"line\":24,\"column\":31}}})) != null ? stack1 : \"\")\n    + \"                        <div class=\\\"add_employee new\\\">ADD NEW EMPLOYEE</div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"users\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":26,\"column\":24},\"end\":{\"line\":51,\"column\":31}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"logo_url\") : depth0), depth0));\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \"/static/images/icon_overlay.png\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \" active\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <br><div class=\\\"link_expiry\\\">LINKS EXPIRE ON \"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"expire_at\") : depth0), depth0))\n    + \"</div> \\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"employee_details row\\\">\\n                            <div class=\\\"table_header\\\">\\n                                <div class=\\\"col-sm-3 name\\\">NAME</div>\\n                                <div class=\\\"col-sm-3 email\\\">EMAIL</div>\\n                                <div class=\\\"col-sm-3 link_status\\\">LINK STATUS</div>\\n                                <div class=\\\"col-sm-3\\\"></div>\\n                            </div>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"users\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":28},\"end\":{\"line\":46,\"column\":37}}})) != null ? stack1 : \"\")\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"users\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),\">\",\"3\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(20, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":47,\"column\":28},\"end\":{\"line\":49,\"column\":40}}})) != null ? stack1 : \"\")\n    + \"                        </div>\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),(data && lookupProperty(data,\"index\")),\"<\",\"3\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":35,\"column\":32},\"end\":{\"line\":45,\"column\":44}}})) != null ? stack1 : \"\");\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                    <div class=\\\"table_row\\\">\\n                                        <div class=\\\"col-sm-3 name\\\"><img class=\\\"profile-img\\\" data-name=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"initials\") : depth0), depth0))\n    + \"\\\" picture-url=\\\"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"first_name\") : depth0), depth0))\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":37,\"column\":146},\"end\":{\"line\":37,\"column\":184}}})) != null ? stack1 : \"\")\n    + \"</div>\\n                                        <div class=\\\"col-sm-3 email\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"email\") : depth0), depth0))\n    + \"</div>\\n                                        <div class=\\\"col-sm-3 link_status not_set\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"email_sent\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(16, data, 0),\"inverse\":container.program(18, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":82},\"end\":{\"line\":39,\"column\":141}}})) != null ? stack1 : \"\")\n    + \"</div>\\n                                        <div class=\\\"col-sm-3\\\" data-employee-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"employee_id\") : depth0), depth0))\n    + \"\\\">\\n                                            <div class=\\\"edit\\\">EDIT</div>\\n                                            <div class=\\\"delete\\\">DELETE</div>\\n                                        </div>\\n                                    </div>\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \" \"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0), depth0));\n},\"16\":function(container,depth0,helpers,partials,data) {\n    return \"link sent\";\n},\"18\":function(container,depth0,helpers,partials,data) {\n    return \"link not sent yet\";\n},\"20\":function(container,depth0,helpers,partials,data) {\n    return \"                            <div class=\\\"load_more\\\">load more</div>\\n\";\n},\"22\":function(container,depth0,helpers,partials,data) {\n    return \"    <div class=\\\"audience-wrap welcome_msg\\\">\\n        <div class=\\\"audience-content welcome_txt\\\">\\n            <h1>Welcome to Audiences</h1>\\n            <p class=\\\"message2\\\">Create company profiles and share exclusive content with them.</p>\\n        </div>\\n    </div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = (depth0 != null ? lookupProperty(depth0,\"audiences\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(22, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":65,\"column\":7}}})) != null ? stack1 : \"\")\n    + \"<div class=\\\"add-new company\\\"></div>   \\n\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"add_company_modal\\\">\\n    <div class=\\\"close\\\"></div>\\n    <div class=\\\"modal_wrap\\\">\\n        <div class=\\\"modal_title\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":33},\"end\":{\"line\":5,\"column\":75}}})) != null ? stack1 : \"\")\n    + \" Company Profile</div>\\n        <div class=\\\"tab_menu_wrap\\\">\\n            <div class=\\\"menu active\\\" data-target=\\\"name\\\">NAME</div>\\n            <div class=\\\"menu\\\" data-target=\\\"message\\\">MESSAGE</div>\\n        </div>\\n        <div class=\\\"tab_block active\\\" data-target=\\\"name\\\">\\n            <div class=\\\"block\\\">\\n                <div class=\\\"title mandatory-field\\\">COMPANY NAME</div>\\n                <div class=\\\"sub_title\\\">Provide company name for this profile.</div>\\n                <input type=\\\"text\\\" name=\\\"name\\\" placeholder=\\\"Name\\\" autocomplete=\\\"off\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":85},\"end\":{\"line\":14,\"column\":120}}})) != null ? stack1 : \"\")\n    + \"> \\n                <div class=\\\"error\\\"></div>\\n            </div>\\n            <div class=\\\"block\\\">\\n                <div class=\\\"title mandatory-field\\\">COMPANY WEBSITE</div>\\n                <div class=\\\"sub_title\\\">Enter the URL for this company. Employees will need to have this domain in their email.</div>\\n                <input type=\\\"url\\\" name=\\\"website\\\" placeholder=\\\"http://\\\" autocomplete=\\\"off\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"website_url\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":90},\"end\":{\"line\":20,\"column\":139}}})) != null ? stack1 : \"\")\n    + \"> \\n                <div class=\\\"error\\\"></div>\\n            </div>\\n            <div class=\\\"btn goto_message\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":40},\"end\":{\"line\":23,\"column\":72}}})) != null ? stack1 : \"\")\n    + \"\\\" data-target=\\\"message\\\">MESSAGE</div>\\n        </div>\\n         <div class=\\\"tab_block\\\" data-target=\\\"message\\\">\\n            <div class=\\\"block\\\">\\n                <div class=\\\"title mandatory-field\\\">GREETING MESSAGE</div>\\n                <div class=\\\"sub_title\\\">Write a message that will be displayed to visitors before gaining access to your content</div>\\n                <textarea placeholder=\\\"Message\\\" name=\\\"message\\\" maxlength=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"message_limit\") : depth0), depth0))\n    + \"\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"message\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":93},\"end\":{\"line\":29,\"column\":126}}})) != null ? stack1 : \"\")\n    + \"</textarea>\\n                <div class=\\\"error\\\"></div>\\n                <div class=\\\"counter\\\"><span>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"message\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.program(16, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":43},\"end\":{\"line\":31,\"column\":132}}})) != null ? stack1 : \"\")\n    + \"</span> Characters Left</div>\\n            </div>\\n            <div class=\\\"btn backto_name\\\" data-target=\\\"name\\\">&nbsp;</div>\\n            <div class=\\\"btn create_profile\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"message\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":42},\"end\":{\"line\":34,\"column\":78}}})) != null ? stack1 : \"\")\n    + \"\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.program(20, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":34,\"column\":80},\"end\":{\"line\":34,\"column\":125}}})) != null ? stack1 : \"\")\n    + \" PROFILE</div>\\n        </div>\\n    </div>\\n</div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"Update\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"Add\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\"\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"website_url\") : depth0), depth0))\n    + \"\\\"\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    return \" active\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"message\") : depth0), depth0));\n},\"14\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/math.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"message_limit\") : depth0),\"-\",((stack1 = (depth0 != null ? lookupProperty(depth0,\"message\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"math\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":59},\"end\":{\"line\":31,\"column\":100}}}));\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"message_limit\") : depth0), depth0));\n},\"18\":function(container,depth0,helpers,partials,data) {\n    return \"UPDATE\";\n},\"20\":function(container,depth0,helpers,partials,data) {\n    return \"CREATE\";\n},\"22\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"add_employee_modal\\\">\\n    <div class=\\\"close\\\"></div>\\n    <div class=\\\"modal_wrap\\\">\\n        <div class=\\\"modal_title\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(23, data, 0),\"inverse\":container.program(25, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":43,\"column\":33},\"end\":{\"line\":43,\"column\":120}}})) != null ? stack1 : \"\")\n    + \"</div>\\n        <div class=\\\"block\\\">\\n            <div class=\\\"title mandatory-field\\\">FIRST NAME</div>\\n            <div class=\\\"sub_title\\\">Enter employee’s first name.</div>\\n            <input type=\\\"text\\\" name=\\\"firstName\\\" placeholder=\\\"First Name\\\" autocomplete=\\\"off\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"first_name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(27, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":47,\"column\":92},\"end\":{\"line\":47,\"column\":139}}})) != null ? stack1 : \"\")\n    + \"> \\n            <div class=\\\"error\\\"></div>\\n        </div>\\n        <div class=\\\"block\\\">\\n            <div class=\\\"title mandatory-field\\\">LAST NAME</div>\\n            <div class=\\\"sub_title\\\">Enter employee’s last name.</div>\\n            <input type=\\\"text\\\" name=\\\"lastName\\\" placeholder=\\\"Last Name\\\" autocomplete=\\\"off\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(29, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":53,\"column\":90},\"end\":{\"line\":53,\"column\":135}}})) != null ? stack1 : \"\")\n    + \"> \\n            <div class=\\\"error\\\"></div>\\n        </div>\\n        <div class=\\\"block\\\">\\n            <div class=\\\"title mandatory-field\\\">EMAIL</div>\\n            <div class=\\\"sub_title\\\">Enter employee’s email address. They will use this email to log in and access your content.</div>\\n            <input type=\\\"email\\\" name=\\\"email\\\" placeholder=\\\"Email\\\" autocomplete=\\\"off\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"email\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(31, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":59,\"column\":84},\"end\":{\"line\":59,\"column\":121}}})) != null ? stack1 : \"\")\n    + \"> \\n            <div class=\\\"error\\\"></div>\\n        </div>\\n        <div class=\\\"btn add_employee\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(10, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":62,\"column\":36},\"end\":{\"line\":62,\"column\":68}}})) != null ? stack1 : \"\")\n    + \"\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_editing\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.program(33, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":62,\"column\":70},\"end\":{\"line\":62,\"column\":112}}})) != null ? stack1 : \"\")\n    + \" EMPLOYEE</div>\\n    </div>\\n</div>\\n\";\n},\"23\":function(container,depth0,helpers,partials,data) {\n    return \"Update Employee Details\";\n},\"25\":function(container,depth0,helpers,partials,data) {\n    return \"Add Employee to Company Profile\";\n},\"27\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"first_name\") : depth0), depth0))\n    + \"\\\"\";\n},\"29\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"last_name\") : depth0), depth0))\n    + \"\\\"\";\n},\"31\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"email\") : depth0), depth0))\n    + \"\\\"\";\n},\"33\":function(container,depth0,helpers,partials,data) {\n    return \"ADD\";\n},\"35\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"audience_overlay\\\">\\n    <div class=\\\"popup-wrap\\\">\\n        <div class=\\\"popup-box share_content_popup\\\">\\n            <div class=\\\"popup-title\\\">\\n                Share Content\\n            </div>\\n            <div class=\\\"content-block\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"title mandatory-field\\\">Choose Content</div>\\n                    <div class=\\\"sub-title\\\">Select the content from your library that you would like to share with this profile.<br>\\n                        Employees added to this profile will receive a private URL to gain access.\\n                    </div>\\n                    <div class=\\\"browse_library\\\">BROWSE YOUR LIBRARY</div>\\n                    <div class=\\\"category_selected\\\"></div>\\n                </div>\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"title mandatory-field\\\">ACCESS LINK EXPIRATION</div>\\n                    <div class=\\\"sub-title\\\">Choose when the links to your content will expire. Upon expiration employees\\n                    from this company profile will not have access to your content. </div><br>\\n                    <div class=\\\"sub-title\\\">Expiration Date:</div>\\n                    <input type=\\\"text\\\" name=\\\"date\\\" class=\\\"expire_date\\\" placeholder=\\\"Choose Date\\\" autocomplete=\\\"off\\\" readonly>\\n                </div>\\n            </div>\\n            <div class=\\\"footer\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"cancel\\\" rel=\\\"add_path\\\">CANCEL</div>\\n                    <div class=\\\"share\\\">SHARE CONTENT</div>\\n                </div>\\n                <div class=\\\"form-failed\\\">OOPS! SHARING FAILED</div>\\n                <div class=\\\"form-sent\\\">SHARED SUCCESSFULLY!</div>\\n                <div class=\\\"form-sending\\\">SHARING...<div class=\\\"cd-loading\\\"></div></div>\\n            </div>\\n        </div>\\n        <div class=\\\"popup-box choose_share_content_popup\\\">\\n            <div class=\\\"popup-title\\\">\\n                Choose Content to Share\\n                <div class=\\\"back\\\"></div>\\n            </div>\\n            <div class=\\\"content-block\\\">\\n                <div class=\\\"block site_map\\\" id=\\\"select-share-category\\\"></div>\\n            </div>\\n            <div class=\\\"footer\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"cancel\\\" rel=\\\"add_path\\\">CANCEL</div>\\n                    <div class=\\\"choose\\\">CHOOSE</div>\\n                </div>\\n                <div class=\\\"form-failed\\\">OOPS! SAVING FAILED</div>\\n                <div class=\\\"form-sent\\\">SAVED SUCCESSFULLY!</div>\\n                <div class=\\\"form-sending\\\">SAVING...<div class=\\\"cd-loading\\\"></div></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n},\"37\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"audience_overlay\\\">\\n    <div class=\\\"popup-wrap\\\">\\n        <div class=\\\"popup-box delete_company_warning\\\">\\n            <div class=\\\"popup-title\\\">\\n                Delete Company\\n            </div>\\n            <div class=\\\"content-block\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"sub-title\\\">You’ve made some cool stuff! Are you sure you want to delete this company?</div>\\n                </div>\\n            </div>\\n            <div class=\\\"footer\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"cancel\\\" rel=\\\"delete_company_warning\\\">CANCEL</div>\\n                    <div class=\\\"delete\\\">DELETE</div>\\n                </div>\\n                <div class=\\\"form-failed\\\">OOPS! DELETING FAILED</div>\\n                <div class=\\\"form-sent\\\">DELETED SUCCESSFULLY!</div>\\n                <div class=\\\"form-sending\\\">DELETING...<div class=\\\"cd-loading\\\"></div></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n},\"39\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"audience_overlay\\\">\\n    <div class=\\\"popup-wrap\\\">\\n        <div class=\\\"popup-box delete_user_warning\\\">\\n            <div class=\\\"popup-title\\\">\\n                Delete User\\n            </div>\\n            <div class=\\\"content-block\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"sub-title\\\">You’ve made some cool stuff! Are you sure you want to delete this user?</div>\\n                </div>\\n            </div>\\n            <div class=\\\"footer\\\">\\n                <div class=\\\"block\\\">\\n                    <div class=\\\"cancel\\\" rel=\\\"delete_user_warning\\\">CANCEL</div>\\n                    <div class=\\\"delete\\\">DELETE</div>\\n                </div>\\n                <div class=\\\"form-failed\\\">OOPS! DELETING FAILED</div>\\n                <div class=\\\"form-sent\\\">DELETED SUCCESSFULLY!</div>\\n                <div class=\\\"form-sending\\\">DELETING...<div class=\\\"cd-loading\\\"></div></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_company\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":38,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_employee\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(22, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":39,\"column\":0},\"end\":{\"line\":65,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_share\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(35, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":66,\"column\":0},\"end\":{\"line\":120,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_company_delete\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(37, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":121,\"column\":0},\"end\":{\"line\":145,\"column\":7}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_employee_delete\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(39, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":146,\"column\":0},\"end\":{\"line\":170,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","/*global define*/\ndefine(['underscore',\n        'jquery',\n        'backbone',\n        '../../tenant/common',\n        '../models/audience_company',\n        '../models/audience_employee',\n        '../../tenant/models/product-tree',\n        '../../tenant/models/url_unfurl',\n        '../templates/audience_list.handlebars',\n        '../templates/overlay.handlebars',\n], function (_, $, Backbone, Common, AudienceCompany, AudienceEmployee, ProductTree, WebsiteInfo, AudienceList, Overlay) {\n    'use strict';\n\n    var AudienceHomeView = Backbone.View.extend({\n\n        el: '#audience_page',\n        MESSAGE_LIMIT: 1000,\n\n        events: {\n            // company events\n            'click .add-new.company, .company_details .company_edit': 'addEditCompany',\n            'click #audience_overlay .create_profile.active': 'saveCompany',\n            'keyup .add_company_modal input, .add_company_modal textarea': 'validateCompany',\n            'click .goto_message.active': 'proceedToMessage',\n            'click .backto_name': 'goToName',\n            'click .cp_delete': 'confirmDeleteCompany',\n            'click .delete_company_warning .delete': 'deleteCompany',\n\n            // employee events\n            'click .add_employee.new, .employee_details .edit': 'addEditEmployee',\n            'click #audience_overlay .add_employee.active': 'saveEmployee',\n            'keyup .add_employee_modal input': 'validateEmployee',\n            'click .employee_details .delete': 'confirmDeleteEmployee',\n            'click .delete_user_warning .delete': 'deleteEmployee',\n\n            // share content events\n            'click .browse_library': 'browseLibrary',\n            'click #select-share-category input[type=checkbox]': 'pickContent',\n            'click .choose_share_content_popup .choose': 'selectContent',\n            'click .share_content.active, .link_expiry': 'startShare',\n            'click .share_content_popup .share': 'shareContent',\n            'click #select-share-category .category': 'toggleTreeContent',\n\n            // miscellaneous events\n            'keyup input[type=url]': Common.updateUrl,\n            'click .add_company_modal .close, .add_employee_modal .close, .share_content_popup .cancel, .delete_user_warning .cancel, .delete_company_warning .cancel': 'resetUI',\n            'click .choose_share_content_popup .cancel, .choose_share_content_popup .back': 'backToShareHome',\n        },\n\n        initialize: function() {\n            $(window).on('resize', {'root': this}, this.modalHeightCalc);\n            this.render();\n        },\n\n        // Company related functions\n        render : function(){\n            this.resetUI();\n            var audiences_list = new AudienceCompany();\n            var root = this;\n            audiences_list.fetch({\n                success: function(model, response){\n                    root.$el.find('#audience_list').html(AudienceList({'audiences': response}));\n                    root.loadInitials();\n                }\n            });\n            this.modalHeightCalc();\n            return this;\n        },\n\n        addEditCompany: function(event){\n            this.audience_id = this.$(event.currentTarget).parents('.company_profile[data-audience-id]') && this.$(event.currentTarget).parents('.company_profile[data-audience-id]').attr('data-audience-id');\n            if(this.audience_id){\n                this.audience = new AudienceCompany({'id': this.audience_id});\n                var root = this;\n                this.audience.fetch({\n                    success: function(model, response){\n                        response.is_company = true;\n                        response.is_editing = true;\n                        response.message_limit = root.MESSAGE_LIMIT;\n                        root.$('#audience_overlay').html(Overlay(response)).addClass(\"add_company\");\n                    }\n                });\n            }else{\n                this.$('#audience_overlay').html(Overlay({'is_company': true, message_limit: this.MESSAGE_LIMIT})).addClass(\"add_company\");\n            }\n        },\n\n        saveCompany: function(event){\n            if(!this.$(event.currentTarget).hasClass('active')) return;\n            var name = this.$(\"#audience_overlay .add_company_modal\").find('input[name=name]').val().trim();\n            var website = this.$(\"#audience_overlay .add_company_modal\").find('input[name=website]').val().trim();\n            var message = this.$(\"#audience_overlay .add_company_modal\").find('textarea[name=message]').val().trim();\n\n            var attrs = {\n                'name': name,\n                'website': website,\n                'message': message,\n                'icon': this.$('.add_company_modal input[type=url]').attr('data-icon')\n            }\n            if(this.audience_id){\n                attrs.id = this.audience_id\n            }\n            var audience = new AudienceCompany(attrs);\n            var root = this;\n            this.$(event.currentTarget).removeClass('active');\n            audience.save({}, {\n                success: function(){\n                    root.render();\n                }\n            })\n        },\n\n        validateCompany: function(event){\n            var validated = true;\n            if(([\"name\", \"website\"]).indexOf(this.$(event.currentTarget).attr('name')) !== -1){\n                if (this.$(event.currentTarget).attr('name') == \"name\") {\n                    if (!event.currentTarget.value.trim().length) validated = false;\n                    if(!Common.validateUrl(this.$(event.currentTarget).parents('.tab_block').find('input[name=website]').val())) validated = false;\n                }\n                if (this.$(event.currentTarget).attr('name') == \"website\") {\n                    if(!this.$(event.currentTarget).parents('.tab_block').find('input[name=name]').val().length) validated = false;\n                    if(!Common.validateUrl(event.currentTarget.value)) validated = false;\n                }\n                if(validated){\n                    this.$('.goto_message').addClass('active');\n                } else {\n                    this.$('.goto_message').removeClass('active');\n                }\n            } else if(this.$(event.currentTarget).attr('name') == \"message\"){\n                if (event.currentTarget.value.trim().length) {\n                    this.$('.create_profile').addClass('active')\n                } else {\n                    this.$('.create_profile').removeClass('active')\n                }\n                var textLength = parseInt(this.$(event.currentTarget).attr('maxlength')) - this.$(event.currentTarget).val().length;\n                this.$(event.currentTarget).parent('.block').find('.counter span').text(textLength);\n            }\n        },\n\n        proceedToMessage: function(event){\n            if(!this.$(event.currentTarget).hasClass('active')) return;\n            this.$('.add_company_modal input[type=url]').siblings('.error').text(\"\");\n            var url = this.$('.add_company_modal input[type=url]').val();\n            if(this.audience && this.audience.get('website_url') == url){\n                this.$('.add_company_modal input[type=url]').attr('data-icon', this.audience.get('logo_file_name'))\n                var target = this.$(event.currentTarget).attr('data-target');\n                this.$('.tab_menu_wrap .menu, .tab_block').removeClass(\"active\");\n                this.$('.tab_menu_wrap .menu[data-target=\"'+ target +'\"], .tab_block[data-target=\"'+ target +'\"]').addClass('active');\n            }else{\n                var website_info = new WebsiteInfo();\n                var root = this;\n                website_info.fetch({\n                    data: {external_url: encodeURI(url)},\n                    success: function (model, response) {\n                        root.$('.add_company_modal input[type=url]').val(response.url||url).attr('data-icon', response.icon_name||\"\")\n                        var target = root.$(event.currentTarget).attr('data-target');\n                        root.$('.tab_menu_wrap .menu, .tab_block').removeClass(\"active\");\n                        root.$('.tab_menu_wrap .menu[data-target=\"'+ target +'\"], .tab_block[data-target=\"'+ target +'\"]').addClass('active');  \n                    },\n                    error: function(model, response, options){\n                        root.$('.add_company_modal input[type=url]').siblings('.error').text(response.responseJSON.message);\n                    }\n                    \n                });\n            }\n        },\n\n        goToName: function(event){\n            var target = this.$(event.currentTarget).attr('data-target');\n            this.$('.tab_menu_wrap .menu, .tab_block').removeClass(\"active\");\n            this.$('.tab_menu_wrap .menu[data-target=\"'+ target +'\"],\\\n                   .tab_block[data-target=\"'+ target +'\"], .tab_block[data-target=\"'+ target +'\"] .goto_message').addClass('active');\n        },\n\n        confirmDeleteCompany: function(event){\n            this.audience_id = this.$(event.currentTarget).parents('.company_profile[data-audience-id]').attr('data-audience-id');\n            this.$('#audience_overlay').html(Overlay({'is_company_delete': true})).addClass(\"delete_company_warning_active\");\n        },\n\n        deleteCompany: function(){\n            var audience = new AudienceCompany({id: this.audience_id});\n            this.actionInProgress('delete_company_warning')\n            var root = this;\n            audience.destroy({\n                success: function(){\n                    root.actionSuccess('delete_company_warning');\n                    setTimeout(function(){\n                        root.render();\n                    }, 1500)\n                },\n                error: function(){\n                    root.actionFailed('delete_company_warning');\n               } \n            })\n        },\n\n        // Employee related functions\n        addEditEmployee: function(event){\n            this.audience_id = this.$(event.currentTarget).parents('.company_profile[data-audience-id]').attr('data-audience-id');\n            this.employee_id = this.$(event.currentTarget).parent().attr('data-employee-id');\n            if(this.employee_id){\n                var employee = new AudienceEmployee({\n                    'id': this.employee_id,\n                    'audience_id': this.audience_id\n                });\n                var root = this;\n                employee.fetch({\n                    success: function(model, response){\n                        response.is_employee = true;\n                        response.is_editing = true;\n                        root.$('#audience_overlay').html(Overlay(response)).addClass(\"add_employee\");\n                    }\n                })\n            }else{\n                this.$('#audience_overlay').html(Overlay({'is_employee': true})).addClass(\"add_employee\");\n            }\n        },\n\n        saveEmployee: function(event){\n            if(!this.$(event.currentTarget).hasClass('active')) return;\n            this.$(\".add_employee_modal\").find('.error').text(\"\");\n            var fname = this.$(\".add_employee_modal\").find('input[name=firstName]').val().trim();\n            var lname = this.$(\".add_employee_modal\").find('input[name=lastName]').val().trim();\n            var email = this.$(\".add_employee_modal\").find('input[name=email]').val().trim();\n\n            var attrs = {\n                'first_name': fname,\n                'last_name': lname,\n                'email': email,\n                'audience_id': this.audience_id\n            }\n            if(this.employee_id){\n                attrs.id = this.employee_id\n            }\n            var employee = new AudienceEmployee(attrs);\n            var root = this;\n            this.$(event.currentTarget).removeClass('active');\n            employee.save({}, {\n                success: function(){\n                    root.render();\n                }, error: function(model, response, options){\n                    console.log(\"Save employee failed:\", model, response, options)\n                    if(response.responseJSON && response.responseJSON.message == 'EXISTS'){\n                        root.$(\".add_employee_modal\").find('input[name=email]').siblings('.error').text('User with given email already exists!!');\n                    }\n                    root.$(event.currentTarget).addClass('active');\n                }\n            })\n        },\n\n        validateEmployee: function(event){\n            var validated = true;\n            var fname = this.$(\".add_employee_modal\").find('input[name=firstName]').val().trim();\n            var lname = this.$(\".add_employee_modal\").find('input[name=lastName]').val().trim();\n            var email = this.$(\".add_employee_modal\").find('input[name=email]').val().trim();\n            if(!fname || !lname || !email || !Common.validateEmail(email)){\n                validated = false;\n            }\n            if(validated){\n                this.$('.add_employee').addClass('active')\n            }else{\n                this.$('.add_employee').removeClass('active');\n            }\n        },\n\n\t\tconfirmDeleteEmployee: function(event){\n            this.audience_id = this.$(event.currentTarget).parents('.company_profile[data-audience-id]').attr('data-audience-id');\n            this.employee_id = this.$(event.currentTarget).parent().attr('data-employee-id');\n            this.$('#audience_overlay').html(Overlay({'is_employee_delete': true})).addClass(\"delete_user_warning_active\");\n        },\n\n        deleteEmployee: function(){\n            var employee = new AudienceEmployee({\n                id: this.employee_id,\n                audience_id: this.audience_id\n            });\n            this.actionInProgress('delete_user_warning');\n            var root = this;\n            employee.destroy({\n                success: function(){\n                    root.actionSuccess('delete_user_warning');\n                    setTimeout(function(){\n                        root.render();\n                    }, 1500)\n                },\n                error: function(){\n                    root.actionFailed('delete_user_warning');\n               }\n            })\n        },\n\n        // Share related functions\n        browseLibrary: function(){\n            this.$('#audience_overlay').removeClass('share_content_active').addClass('choose_share_content_active');\n            this.$('#select-share-category').html(\"\");\n            this.modalHeightCalc();\n            var root = this;\n            var tree = new ProductTree();\n            tree.fetch({\n                data: {get_cache: 'False', author: 1},\n                success: function(model, response){\n                    root.selected_categories = root.$('.share_content_popup .category_selected').data('selected_categories');\n                    root.buildTree(response, \"select-share-category\", 0, \"section\");\n                    root.updateSelectCount();\n                },\n                error: function(xhr, status_code, message){\n                    console.log(\"tree fetch error:\", xhr, status_code, message)\n                }\n            });\n        },\n\n        backToShareHome: function(){\n            this.$('#audience_overlay').removeClass('choose_share_content_active').addClass('share_content_active');\n            this.$('.choose_share_content_popup .choose').removeClass('selected').text('CHOOSE');\n        },\n\n        startShare: function(event){\n            this.audience_id = this.$(event.target).parents('.company_profile[data-audience-id]').attr('data-audience-id');\n            this.audience = new AudienceCompany({id: this.audience_id});\n            var root = this;\n            this.audience.fetch({\n                success: function(model, response){\n                    root.$('#audience_overlay').html(Overlay({'is_share': true})).addClass(\"share_content_active\");\n                    var count = \"\";\n                    if(response.sections.length){\n                        count = response.sections.length + (response.sections.length==1?' CATEGORY':' CATEGORIES') + ' SELECTED';\n                    }\n                    root.$('.share_content_popup .category_selected').text(count).data('selected_categories', response.sections);\n                    root.$('.expire_date').datepicker({\n                        language: 'en',\n                        dateFormat: \"mm-dd-yyyy\",\n                        minDate: new Date(),\n                        clearButton: true,\n                        onSelect: function(selectedDate){\n                            root.$('.expire_date').datepicker().data('datepicker').hide();\n                        }\n                    });\n                    if(response.expire_at){\n                        root.$('.expire_date').datepicker().data('datepicker').selectDate(new Date(response.expire_at));\n                    }\n                },\n                error: function(xhr, status_code, message){\n                    console.log(\"audience fetch error:\", xhr, status_code, message)\n                }\n            });\n        },\n\n        shareContent: function(){\n            var audience = new AudienceCompany();\n            this.actionInProgress('share_content_popup');\n            var root = this;\n            audience.save({\n                id: this.audience_id,\n                section_list: this.$('.share_content_popup .category_selected').data('selected_categories'),\n                link_expiry_date: this.$('.expire_date').val()\n            }, {\n                patch: true,\n                success: function(model, response){\n                    root.actionSuccess('share_content_popup');\n                    setTimeout(function(){\n                        root.render();\n                    }, 1500)\n                },\n                error: function(){\n                    root.actionFailed('share_content_popup');\n                }\n            })\n        },\n\n        pickContent: function(event){\n            var level = this.$(event.target).parent().parent().attr('class').split(\" \")[1].substr(\"5\");\n            level = parseInt(level);\n            var root = this;\n            for(var i=level-1;i>=1;i--) {\n                root.$(event.target).parents(\".level\" + i).children('.category').find('.css-checkbox').attr('checked', false);\n            };\n            if (!this.$(event.target).parent().hasClass('no-child')) {\n                this.$(event.target).parent().parent().find(\".css-checkbox:gt(0)\").attr('checked', false);\n            };\n            this.updateSelectCount();\n        },\n\n        updateSelectCount: function(){\n            var total_selected = this.$('.choose_share_content_popup input[type=checkbox]:checked').length;\n            if(total_selected){\n                var count = 'CHOOSE ' + total_selected + (total_selected==1?' CATEGORY':' CATEGORIES');\n                this.$('.choose_share_content_popup .choose').text(count).addClass('selected');\n            }else{\n                this.$('.choose_share_content_popup .choose').text('CHOOSE').removeClass('selected');\n            }\n        },\n\n        selectContent: function(){\n            var selected_list = this.$('.choose_share_content_popup input[type=checkbox]:checked');\n            var _sections = _.map(selected_list, function(el){return el.value});\n            var count = \"\";\n            if(selected_list.length){\n                count = selected_list.length + (selected_list.length==1?' CATEGORY':' CATEGORIES') + ' SELECTED';\n            }\n            this.$('.share_content_popup .category_selected').text(count).data('selected_categories', _sections);\n            this.backToShareHome();\n        },\n\n        toggleTreeContent: function(event){\n            if(!this.$(event.currentTarget).hasClass('category') || this.$(event.currentTarget).hasClass('demo')) return;\n\n            if (this.$(event.currentTarget).hasClass('closed')) {\n                this.$(event.currentTarget).siblings().show();\n                this.$(event.currentTarget).removeClass('closed').addClass('open');\n            }else{\n                this.$(event.currentTarget).siblings().hide();\n                this.$(event.currentTarget).removeClass('open').addClass('closed');\n            }  \n        },\n\n        /**** Miscellaneous functions ****/\n\n        // reset UI/close all popups\n        resetUI: function(){\n            this.audience_id = this.audience = null;\n            this.employee_id = null;\n            this.$('#audience_overlay').empty().removeAttr(\"class\");\n        },\n\n        // popup height calculation\n        modalHeightCalc: function(){\n            var windowHeight = $(window).height() - 200;\n            this.$('#select-share-category, .popup-box .content-block').css({\n                \"max-height\": windowHeight\n            })\n        },\n\n        // share tree builder\n        buildTree: function(data, id, level, type){\n            var root = this;\n            level += 1;\n            for (var i = 0; i < data.length; i++) {\n                if (type == \"section\") {\n                    var input;\n                    if(_.indexOf(root.selected_categories, data[i].slug) !== -1){\n                        input = \"<input type='checkbox' id=\" + \"ch-\" + data[i].slug + \" value=\"+ data[i].slug +\" class='css-checkbox' checked/>\"\n                    }else{\n                        input = \"<input type='checkbox' id=\" + \"ch-\" + data[i].slug + \" value=\"+ data[i].slug +\" class='css-checkbox' />\"\n                    }\n                    var html = \"<div id=\" + data[i].slug + \" data-item='section' class='category-list level\" + level + \"'>\\\n                                    <div class='category closed'>\\\n                                        <span class='icon'></span>\" + data[i].name + input +\"\\\n                                            <label for='ch-\" + data[i].slug + \"' class='css-label'></label>\\\n                                    </div>\\\n                                </div>\"\n                } else if(type == \"playlists\"){\n                    var html = \"<div id='\" + id + \"-\" + level + \"-\" + data[i].order + \"' data-item='playlist' class='category-list level\" + level + \"'>\\\n                                    <div class='playlist'><span class='icon'></span>\" + data[i].name + \"</div>\\\n                                </div>\"\n                } else {\n                    var html = \"<div class='category-list level\" + level + \"' data-item='chapter'>\\\n                                    <div class='demo'><span class='icon'></span>\" + data[i].name + \"</div>\\\n                                </div>\"\n                };\n                $('#' + id).append(html);\n                var parent_id;\n                if(data[i].children){\n                    parent_id = data[i].slug;\n                    root.buildTree(data[i].children, parent_id, level, \"section\")\n                } else if (data[i].playlists){\n                    parent_id = data[i].slug;\n                    root.buildTree(data[i].playlists, parent_id, level, \"playlists\")\n                }else if (data[i].demos) {\n                    parent_id = id + '-' + level + '-' + data[i].order;\n                    root.buildTree(data[i].demos, parent_id, level, \"demo\")\n               };\n            }\n        },\n\n        // Action Status\n        actionInProgress: function(target){\n            this.$('.' + target + ' .form-sending').addClass(\"slide-in is-submitted\");\n        },\n\n        actionSuccess: function(target){\n            var root = this;\n            setTimeout(function(){\n                root.$('.' + target + ' .form-sending').removeClass(\"slide-in is-submitted\");\n                root.$('.' + target + ' .form-sent').addClass(\"slide-in\");\n                setTimeout(function(){\n                    root.$('.' + target + ' .form-sent').removeClass(\"slide-in\");\n                }, 1000);\n            },1000)\n        },\n\n        actionFailed: function(target){\n            var root = this;\n            setTimeout(function(){\n                root.$('.' + target + ' .form-sending').removeClass(\"slide-in\");\n                root.$('.' + target + ' .form-failed').addClass(\"slide-in\");\n                setTimeout(function(){\n                    root.$('.' + target + ' .form-failed').removeClass(\"slide-in\");\n                }, 1000);\n            }, 1000);\n        },\n\n        loadInitials: function(){\n            this.$('img.profile-img').attr({\n                'data-height': 34,\n                \"data-width\": 34,\n                \"data-char-count\": 2,\n                \"data-font-size\": 14\n            }).initial().css({'border-radius': '50px', '-moz-border-radius': '50px'});\n        }\n\n    });\n    \n    return AudienceHomeView;\n});\n","module.exports = function(lvalue, operator, rvalue, options) {\n   lvalue = parseFloat(lvalue);\n   rvalue = parseFloat(rvalue);\n\n   return {\n       \"+\": lvalue + rvalue,\n       \"-\": lvalue - rvalue,\n       \"*\": lvalue * rvalue,\n       \"/\": lvalue / rvalue,\n       \"%\": lvalue % rvalue\n   }[operator];\n};\n","/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var Urlunfurl = Backbone.Model.extend({\n\n        urlRoot: \"/url-unfurl\"\n    });\n\n    return Urlunfurl;\n});"],"sourceRoot":""}