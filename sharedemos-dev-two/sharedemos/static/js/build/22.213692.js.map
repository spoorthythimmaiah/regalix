{"version":3,"sources":["webpack:///./sharedemos/static/js/helpers/handlebars/localTime.js","webpack:///./sharedemos/static/js/reports/models/reports_data.js","webpack:///./sharedemos/static/js/reports/models/reports_graph.js","webpack:///./sharedemos/static/js/reports/models/viewer_reports.js","webpack:///./sharedemos/static/js/reports/templates/social_share.handlebars","webpack:///./sharedemos/static/js/reports/templates/viewer_detail.handlebars","webpack:///./sharedemos/static/js/reports/templates/viewer_report.handlebars","webpack:///./sharedemos/static/js/reports/templates/viewers.handlebars","webpack:///./sharedemos/static/js/reports/views/reports.js"],"names":["module","exports","dateTime","options","localTime","Date","JSON","parse","formattedDate","toUTCString","toLocaleString","define","Backbone","ReportsData","Model","extend","urlRoot","ReportsGraph","ViewerReports","_","$","SiteTrafficTemplate","TrendingChaptersTemplate","ReferralsTemplate","GeographyTemplate","SocialShareTemplate","ViewerDetailTemplate","ViewersTemplate","ViewerReportTemplate","ReportsView","View","el","REFERRAL_GRAPH_COLORS","SOCIAL_MEDIA_GRAPH_COLORS","VIEWERS_LIST","VIEWERS_PER_PAGE","events","event","currentTarget","children","toggle","fetchViewers","initialize","multiselect","allSelectedText","includeSelectAllOption","fromDateElem","toDateElem","root","datepicker","language","dateFormat","maxDate","autoClose","clearButton","onSelect","selectedDate","date","toDate","val","data","update","loadReports","attr","fromDate","document","categoryId","html","removeClass","addClass","dateRange","show","f_date","t_date","selectDate","getTime","getTimezoneOffset","isAuthor","filterViewerData","target","dataset","dateTitle","title","customDate","hide","args","renderViewerData","fromDateEle","toDateEle","selectedFromDate","selectedToDate","userId","viewerReports","fetch","done","response","date_range","chapter_views","count","loadViewerGraph","filterReports","category_id","parentElement","id","getAttribute","clear","categoryData","categoryName","attrs","from_date","to_date","selectedDates","length","appendTo","numbers_loaded","graphs_loaded","reports_data","isPrivateTenant","site_visitors","demo_views","completion_rate","progress","popover","trending_chapters","sort_chapters_by","loadMoreChapters","loadTrendingChapters","fail","console","log","always","remove","reports_graph","loadVisitorsVsViewsGraph","visitors_vs_views","loadTrendingCategories","loadReferrals","loadGeography","social_shares","loadSocialShareData","getFilters","groupIds","each","element","push","value","currentPage","page","group_ids","empty","viewers_data","traditional","paginationDetails","pagination_details","updateViewersList","renderViewers","renderViewersByPage","parseInt","paginate","pageNo","totalViewers","pagination","is_paginated","noOfPages","prevDisable","nextDisable","pagePrev","pageNext","startPageNo","endPageNo","pages","i","views","graph","graph_data","chart_interval","slots","map","index","getGraphDate","tick_size","unit_between","format","Max","Min","multiplier","dayone","daytwo","daysdiff","dayDifference","plot","label","curvedLines","apply","monotonicFit","fill","points","symbol","fillColor","radius","lines","grid","hoverable","clickable","tickColor","borderWidth","margin","legend","xaxis","max","min","mode","timeformat","tickSize","tickLength","colors","bind","pos","item","series","tooltip","hoverPoint","dataIndex","chapterName","Object","keys","chCompleteRate","toFixed","css","fadeIn","viewer","viewers","pageIndex","start_page","allViewerList","chunk","ele","viewerList","total_viewers","updateProfilePic","initial","pic_url","img","Image","onload","src","viewerPopupShow","e","hasClass","selectedViewer","viewerPopupClose","tr_ch","first_sort_by","sec_sort_by","chain","sortBy","reverse","first","sortPopularChapters","parent","geography_list","geography","key","isEmptyObject","mapGeoJSON","Highcharts","maps","country_iso_code_key","features","feature","countryISOCode","properties","visit_count","highcharts","text","mapNavigation","enabled","buttonOptions","verticalAlign","navigation","colorAxis","stops","getOptions","Color","brighten","get","mapData","joinBy","name","states","hover","color","type","geojson","nullColor","showInLegend","enableMouseTracking","referrals","reduce","sum","referral","referral_list","pie","innerRadius","shadow","top","left","alpha","stroke","width","background","opacity","threshold","highlight","parseFloat","percent","pageY","pageX","trending_categories","x_axis_labels","word","section","substring","bars","order","align","lineWidth","barWidth","shadowSize","autoscaleMargin","ticks","tickDecimals","yaxis","visitors","active","resultSet","sources","share","medium","datapoints","time1","time2","timeDiff","Math","abs","ceil","loadMore","date_string","date_string_list","split","year","month","day","tzOffset","time"],"mappings":"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","file":"22.213692.js","sourcesContent":["module.exports = function(dateTime, options) {\n    var localTime = new Date(dateTime);\n    if(options && typeof(options) == \"string\"){\n    \toptions = JSON.parse(options);\n    }\n    var formattedDate = localTime.toUTCString();\n    formattedDate = new Date(formattedDate).toLocaleString('en-US', options);\n    return formattedDate;\n};\n","/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var ReportsData = Backbone.Model.extend({\n        urlRoot: \"/api/reports/data\",\n    });\n    return ReportsData;\n});","/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var ReportsGraph = Backbone.Model.extend({\n        urlRoot: \"/api/reports/graph\",\n    });\n\n    return ReportsGraph;\n});","define([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var ViewerReports = Backbone.Model.extend({\n        urlRoot: \"/api/reports/viewer\",\n    });\n    return ViewerReports;\n});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <div class=\\\"col-xs-12\\\"> \\r\\n        <div class=\\\"=outside\\\">\\r\\n            <div class=\\\"total_shares col-md-6\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"total_shares\") : depth0), depth0))\n    + \"</div>\\r\\n            <div class=\\\"col-md-6\\\" id=\\\"social_share_graph\\\"></div>\\r\\n        </div>\\r\\n        <div class='reports_data_list col-md-6'>\\r\\n            <div class=\\\"reports_header col-xs-12\\\">\\r\\n                <div class=\\\"col-xs-10\\\"><span>SOCIAL CHANNEL</span></div>\\r\\n                <div class=\\\"col-xs-2 text-right\\\"><span>SHARES</span></div>\\r\\n            </div>\\r\\n            <div class=\\\"reports_list\\\" id=\\\"social_share_reports\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"social_shares\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":16},\"end\":{\"line\":20,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <div class=\\\"reports_data_row col-xs-12\\\">\\r\\n                        <div class=\\\"col-xs-2\\\"><i class=\\\"fa fa-\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"label\") : depth0), depth0))\n    + \"-square\\\"></i></div>\\r\\n                        <div class=\\\"col-xs-8 social-share-label\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"label\") : depth0), depth0))\n    + \"</div>\\r\\n                        <div class=\\\"col-xs-2 text-right\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"data\") : depth0), depth0))\n    + \"</div>\\r\\n                    </div>\\r\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \"    <div class=\\\"no-report\\\">\"\n    + container.escapeExpression(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),\"No data available\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":27},\"end\":{\"line\":25,\"column\":56}}}))\n    + \"</div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h4>Social Sharing</h4>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"total_shares\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":26,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"                    <span class=\\\"group-name \"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\">\"\n    + alias2(alias1(depth0, depth0))\n    + \"</span>\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <span>First time on-boarding on \"\n    + container.escapeExpression(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/localTime.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"onboard_at\") : depth0),\"{\\\"month\\\": \\\"long\\\", \\\"day\\\": \\\"numeric\\\", \\\"year\\\": \\\"numeric\\\"}\",{\"name\":\"localTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":52},\"end\":{\"line\":14,\"column\":133}}}))\n    + \"</span>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"detail-popup\\\" class=\\\"details-popUpModal\\\">\\n    <div class=\\\"details-content\\\" id=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"user_id\") : depth0), depth0))\n    + \">\\n        <div class=\\\"details-closeButton\\\">\\n            <span class=\\\"details-closebtn\\\">&times;</span>\\n        </div>\\n        <div class=\\\"details-header\\\">\\n            <img class=\\\"profile\\\" data-name=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"initials\") : depth0), depth0))\n    + \"\\\" picture-url=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"profile_picture\") : depth0), depth0))\n    + \"\\\">\\n            <div class=\\\"name-content\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"fullname\") : depth0), depth0))\n    + \"\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"groups\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":11,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"                <br>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"onboard_at\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":15,\"column\":23}}})) != null ? stack1 : \"\")\n    + \"            </div>\\n        </div>\\n        <div class=\\\"popup-userStatus\\\">\\n            <div class=\\\"viewer-sub-title\\\">User Status</div>\\n            <div class=\\\"custom-dropdown\\\">\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-sm-6 col-xs-12 custom-date\\\">\\n                        <div class=\\\"viewer-subtitle-custom\\\">\\n                            From\\n                        </div>\\n                        <input id=\\\"fromDate\\\" type=\\\"text\\\" name=\\\"from-date\\\" class=\\\"datepicker-here\\\" readonly=\\\"true\\\">\\n                    </div>\\n                    <div class=\\\"col-xs-12 col-sm-6 custom-date\\\">\\n                        <div class=\\\"viewer-subtitle-custom\\\">\\n                            To\\n                        </div>\\n                        <input id=\\\"toDate\\\" type=\\\"text\\\" name=\\\"to-date\\\" class=\\\"datepicker-here\\\" readonly=\\\"true\\\">\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"time-interval\\\">\\n                <span class=\\\"viewer-interval\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"dateTitle\") : depth0), depth0))\n    + \"</span>\\n                <ul class=\\\"viewer-time-menu\\\" id='viewer-metrics'>\\n                    <li data-attr='today' data-title='today'>today</li>\\n                    <li data-attr='yesterday' data-title='yesterday'>yesterday</li>\\n                    <li data-attr='week' data-title='Last 7 Days'>1 week</li>\\n                    <li data-attr='month' data-title='Last 30 days'>30 days</li>\\n                    <li data-attr='quarter' data-title='Last 3 months'>3 months</li>\\n                    <li data-attr='half-year' data-title='Last 6 months'>6 months</li>\\n                    <li data-attr='year' data-title='Last 12 months'>12 months</li>\\n                    <li data-attr='custom' data-title='Custom Days'>Custom</li>\\n                </ul>\\n            </div>\\n        </div>\\n\"\n    + ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/reports/templates/viewer_report.handlebars\"),depth0,{\"name\":\"viewer_report\",\"data\":data,\"indent\":\"        \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\")\n    + \"    </div>\\n</div>\\n\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"dn\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"up\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div id=\\\"viewer-report\\\">\\n    <div class=\\\"card-block\\\">\\n        <div class=\\\"viewer-card\\\">\\n            <h6>Chapters Consumed</h6>\\n            <div class=\\\"details-count\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"chapter_views\") : depth0)) != null ? lookupProperty(stack1,\"count\") : stack1), depth0))\n    + \"</div>\\n            <div class=\\\"cards_stats \"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"chapter_views\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),\"<\",0,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":36},\"end\":{\"line\":6,\"column\":91}}})) != null ? stack1 : \"\")\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"chapter_views\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),\">=\",0,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":91},\"end\":{\"line\":6,\"column\":147}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n                <span>\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/formatNumber.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"chapter_views\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),{\"name\":\"formatNumber\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":22},\"end\":{\"line\":7,\"column\":61}}}))\n    + \"&#37 from last period</span>\\n            </div>\\n        </div>\\n        <div class=\\\"viewer-card\\\">\\n            <h6>Completion Rate</h6>\\n            <div class=\\\"details-count\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"completion_rate\") : depth0)) != null ? lookupProperty(stack1,\"percentage\") : stack1), depth0))\n    + \"&#37</div>\\n            <div class=\\\"cards_stats \"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"completion_rate\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),\"<\",0,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":36},\"end\":{\"line\":13,\"column\":93}}})) != null ? stack1 : \"\")\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"completion_rate\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),\">=\",0,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":93},\"end\":{\"line\":13,\"column\":151}}})) != null ? stack1 : \"\")\n    + \"\\\">\\n                <span>\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/formatNumber.js\")).call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"completion_rate\") : depth0)) != null ? lookupProperty(stack1,\"progress\") : stack1),{\"name\":\"formatNumber\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":22},\"end\":{\"line\":14,\"column\":63}}}))\n    + \"&#37 from last period</span>\\n            </div>\\n        </div>\\n        <div class=\\\"viewer-card\\\">\\n            <h6>Most visited chapter</h6>\\n            <div>\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"most_visited_chapter\") : depth0), depth0))\n    + \"</div>  \\n        </div>\\n    </div>\\n    <div class=\\\"graph-align\\\">\\n        <h3>Views</h3>\\n        <div id=\\\"graph-block\\\"></div>\\n    </div>\\n</div>\\n\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"viewer-row\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"user_id\") : depth0), depth0))\n    + \"\\\">\\n    <div class=\\\"viewer-name\\\">\\n        <img class=\\\"profile\\\" data-name=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"initials\") : depth0), depth0))\n    + \"\\\" picture-url=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"profile_picture\") : depth0), depth0))\n    + \"\\\">\\n        <div class=\\\"name-block\\\">\\n            <span class=\\\"name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"fullname\") : depth0), depth0))\n    + \"</span><br>\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"groups\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":12},\"end\":{\"line\":9,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n    <div class=\\\"email\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"email\") : depth0), depth0))\n    + \"</div>\\n    <div class=\\\"date-added\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/localTime.js\")).call(alias3,(depth0 != null ? lookupProperty(depth0,\"date_added\") : depth0),\"{\\\"year\\\": \\\"numeric\\\", \\\"month\\\": \\\"2-digit\\\", \\\"day\\\": \\\"2-digit\\\"}\",{\"name\":\"localTime\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":28},\"end\":{\"line\":13,\"column\":112}}}))\n    + \"</div>\\n</div>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"            <span class=\\\"group-name \"\n    + alias2(alias1(depth0, depth0))\n    + \"\\\">\"\n    + alias2(alias1(depth0, depth0))\n    + \"</span>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <nav>\\n        <ul class=\\\"pagination\\\">\\n            <li class=\\\"page-item \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"prevDisable\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":33},\"end\":{\"line\":19,\"column\":80}}})) != null ? stack1 : \"\")\n    + \"\\\"  data-page=\\\"\"\n    + alias3(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"pagePrev\") : stack1), depth0))\n    + \"\\\" >\\n                <a class=\\\"page-link\\\">Previous</a>\\n            </li>\\n            \\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"pages\") : stack1),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":12},\"end\":{\"line\":27,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"\\n            <li class=\\\"page-item \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"nextDisable\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":33},\"end\":{\"line\":29,\"column\":80}}})) != null ? stack1 : \"\")\n    + \"\\\"  data-page=\\\"\"\n    + alias3(alias2(((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"pageNext\") : stack1), depth0))\n    + \"\\\">\\n                <a class=\\\"page-link\\\">Next</a>\\n            </li>\\n        </ul>\\n    </nav>\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    return \" disabled \";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <li class=\\\"page-item \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"currentPage\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":37},\"end\":{\"line\":24,\"column\":71}}})) != null ? stack1 : \"\")\n    + \"\\\"  data-page=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"pageNo\") : depth0), depth0))\n    + \">\\n                    <a class=\\\"page-link\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"pageNo\") : depth0), depth0))\n    + \"</a>\\n                </li>    \\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    return \" active \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"viewers\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"pagination\") : depth0)) != null ? lookupProperty(stack1,\"is_paginated\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":0},\"end\":{\"line\":34,\"column\":7}}})) != null ? stack1 : \"\");\n},\"useData\":true});","/*global define*/\ndefine(['underscore',\n    'jquery',\n    'backbone',\n    '../models/reports_data',\n    '../models/reports_graph',\n    '../models/viewer_reports',\n    '../templates/site_traffic.handlebars',\n    '../templates/trending_chapters.handlebars',\n    '../templates/referrals.handlebars',\n    '../templates/geography.handlebars',\n    '../templates/social_share.handlebars',\n    '../templates/viewer_detail.handlebars',\n    '../templates/viewers.handlebars',\n    '../templates/viewer_report.handlebars'\n], function (_, $, Backbone,\n        ReportsData,\n        ReportsGraph,\n        ViewerReports,\n        SiteTrafficTemplate,\n        TrendingChaptersTemplate,\n        ReferralsTemplate,\n        GeographyTemplate,\n        SocialShareTemplate,\n        ViewerDetailTemplate,\n        ViewersTemplate,\n        ViewerReportTemplate) {\n    'use strict';\n\n    var ReportsView = Backbone.View.extend({\n\n        el: '#library_reports',\n        REFERRAL_GRAPH_COLORS: [\"#0a316b\", \"#0948a7\", \"#0156d5\", \"#066afe\", \"#639bfc\",\n                                \"#95b5f2\", \"#b5ccf6\", \"#cfddf7\", \"#ebf1fc\", \"#e9e9e9\"],\n        SOCIAL_MEDIA_GRAPH_COLORS: [\"#0bae5b\", \"#2fbd75\", \"#58d996\", \"#83eeb8\"],\n        VIEWERS_LIST: {},\n        VIEWERS_PER_PAGE: 20,\n        events: {\n            'click .dd-menu li': 'filterReports',\n            'click .load_more_reports': 'loadMore',\n            'click .sort': 'sortPopularChapters',\n            'click .viewer-row:not(.disabled)': 'viewerPopupShow',\n            'click .time-interval': function(event){\n                    this.$(event.currentTarget).children('.viewer-time-menu').toggle();\n                },\n            'click .viewer-time-menu li': 'filterViewerData',\n            'click #detail-popup .details-closebtn': 'viewerPopupClose',\n            'click .page-item': 'renderViewersByPage',\n            'change #multiselect': function() {\n                    this.fetchViewers();\n                } \n          },\n\n        initialize: function () {\n            this.$('#multiselect').multiselect({\n                allSelectedText: 'All',\n                includeSelectAllOption: true,\n            })\n            .multiselect('selectAll', false)\n            .multiselect('updateButtonText');\n            var fromDateElem = $('#from-date'), toDateElem = $('#to-date');\n            var root = this;\n            fromDateElem.datepicker({\n                language: 'en',\n                dateFormat: \"yyyy-mm-dd\",\n                maxDate: new Date(),\n                autoClose: true,\n                clearButton: true,\n                onSelect: function(selectedDate, date){\n                    var toDate = toDateElem.val();\n                    toDateElem.datepicker().data('datepicker').update('minDate', date);\n                    if(selectedDate && toDate){\n                        root.loadReports({\n                            'date_range' : 'custom',\n                            'from_date' : selectedDate,\n                            'to_date' : toDate,\n                            'category_id' : $('#categories li.active').attr('data-attr')\n                        })\n                    }\n                },\n            });\n            toDateElem.datepicker({\n                language: 'en',\n                dateFormat: \"yyyy-mm-dd\",\n                maxDate: new Date(),\n                autoClose: true,\n                clearButton: true,\n                onSelect: function(selectedDate, date){\n                    var fromDate = fromDateElem.val();\n                    fromDateElem.datepicker().data('datepicker').update('maxDate', date || new Date());\n                    if(selectedDate && fromDate){\n                        root.loadReports({\n                            'date_range' : 'custom',\n                            'from_date' : fromDate,\n                            'to_date' : selectedDate,\n                            'category_id' : $('#categories li.active').attr('data-attr')\n                        })\n                    }\n                }\n            });\n\n            if(document.fromDate && document.toDate){\n                if(document.categoryId == 'all'){\n                    this.$('.category-dd .category').html('All Categories');\n                }else{\n                    this.$('.category-dd .category').html(document.categoryId);\n                }\n                this.$('#categories li, #metrics li').removeClass('active');\n                this.$('#categories li[data-attr=\"' + document.categoryId + '\"]').addClass('active');\n                this.$('.time-interval-dd .interval').html('custom');\n                this.$('#metrics li[data-attr=\"'+ document.dateRange +'\"]').addClass('active');\n                this.$('.custome-date').show();\n                var f_date = new Date(document.fromDate);\n                var t_date = new Date(document.toDate);\n                this.$('#from-date').data('datepicker').selectDate(new Date(f_date.getTime() + (f_date.getTimezoneOffset() * 60000)));\n                this.$('#to-date').data('datepicker').selectDate(new Date(t_date.getTime() + (t_date.getTimezoneOffset() * 60000)));\n            }else{\n                this.loadReports({\n                    'date_range': 'week',\n                    'category_id': 'all'\n                });\n            }\n\n            if(!document.isAuthor){\n                $('#content_menu li').removeClass('active');\n                $('#content_menu, .nav-pills li[role=\"overview\"]').addClass('disabled');\n                $('#home-icon').attr('href', '');\n            }\n        },\n\n        filterViewerData: function(event){\n            let date = event.target.dataset;\n            let dateRange = date.attr,\n                dateTitle = date.title;\n            this.$('.time-interval .viewer-interval').html(dateTitle);\n            this.$('#viewer-metrics li').removeClass('active');\n            this.$(event.target).addClass('active');\n            if(dateRange == 'custom'){\n                this.$('.custom-date').show();\n                this.customDate();\n            } else {\n                this.$('.custom-date').hide();\n                let args = {\n                    'date_range': dateRange,\n                    'category_id': this.$('#categories li.active').data('attr')\n                }\n                this.renderViewerData(args);\n            }\n        },\n\n        customDate: function() {\n            let dateRange = this.$('#metrics li.active').attr('data-attr'),\n                fromDateEle = this.$('#fromDate'), \n                toDateEle = this.$('#toDate');\n            // allow user to select different date range\n\n            if(dateRange == 'custom'){\n                let selectedFromDate = this.$('#from-date').val(),\n                    selectedToDate = this.$('#to-date').val();\n                fromDateEle = this.$('#fromDate').val(selectedFromDate);\n                toDateEle = this.$('#toDate').val(selectedToDate);\n            }\n            let root = this;\n            fromDateEle.datepicker({\n                language: 'en',\n                dateFormat: \"yyyy-mm-dd\",\n                maxDate: new Date(),\n                autoClose: true,\n                clearButton: true,\n                onSelect: function(selectedDate, date){\n                    let toDate = toDateEle.val();\n                    toDateEle.datepicker().data('datepicker').update('minDate', date);\n                    if(selectedDate && toDate){\n                        root.renderViewerData({      \n                            'date_range' : 'custom',\n                            'from_date' : selectedDate,\n                            'to_date' : toDate,\n                            'category_id' : root.$('#categories li.active').data('attr')\n                        })\n                    }\n                },\n            });\n            toDateEle.datepicker({\n                language: 'en',\n                dateFormat: \"yyyy-mm-dd\",\n                maxDate: new Date(),\n                autoClose: true,\n                clearButton: true,\n                onSelect: function(selectedDate, date){\n                    let fromDate = fromDateEle.val();\n                    fromDateEle.datepicker().data('datepicker').update('maxDate', date || new Date());\n                    if(selectedDate && fromDate){\n                        root.renderViewerData({\n                            'date_range' : 'custom',\n                            'from_date' : fromDate,\n                            'to_date' : selectedDate,\n                            'category_id' : root.$('#categories li.active').data('attr')\n                        })   \n                    }\n                }\n            });\n        },\n        \n        renderViewerData: function(args) {\n            let userId = this.userId,\n                root = this;\n            let viewerReports = new ViewerReports({'id':userId}); \n            viewerReports.fetch({data:args}).done(function(response){\n                response.dateRange = args.date_range;\n                if(response.chapter_views.count){\n                    root.$('#viewer-report').html(ViewerReportTemplate(response));\n                    root.loadViewerGraph(response);\n                }\n                else{\n                    root.$('#viewer-report').html('<div class=\"no-data\">No data available</div>');\n                }\n            })\n        },\n\n        filterReports: function(event){\n            var date_range = 'week';\n            var category_id = 'all';\n\n            if(event.target.parentElement.id == 'metrics'){\n                date_range = event.target.getAttribute('data-attr');\n                this.$('.time-interval-dd .interval').html(date_range);\n                this.$('#metrics li').removeClass('active');\n                this.$(event.target).addClass('active');\n                if(date_range == 'custom'){\n                    $('.custome-date').show();\n                    return false;\n                } else {\n                    $('.custome-date').hide();\n                }\n\n                this.$('#from-date').data('datepicker').clear();\n                this.$('#to-date').data('datepicker').clear();\n                category_id = $('#categories li.active').attr('data-attr');\n                this.$('.time-interval-dd .interval').html(event.target.getAttribute('data-title'));\n                this.$('#metrics li').removeClass('active');\n                this.$(event.target).addClass('active');\n            }else if(event.target.parentElement.id == 'categories'){\n                let categoryData = this.$(event.target).data();\n                category_id = categoryData.attr;\n                let categoryName = categoryData.attr;\n                date_range = this.$('#metrics li.active').attr('data-attr');\n                if(category_id == 'all'){\n                    this.$('.category-dd .category').html('All Categories');\n                }else{\n                    this.$('.category-dd .category').html(categoryName);\n                }\n                this.$('#categories li').removeClass('active');\n                this.$(event.target).addClass('active');\n            }\n            var attrs = {\n                'date_range': date_range,\n                'category_id': category_id\n            }\n            if(date_range == 'custom'){\n                var from_date = $('#from-date').datepicker().data('datepicker');\n                var to_date = $('#to-date').datepicker().data('datepicker');\n                if(from_date.selectedDates.length && to_date.selectedDates.length){\n                    attrs['from_date'] = $('#from-date').val()\n                    attrs['to_date'] = $('#to-date').val()\n                    this.loadReports(attrs)\n                }\n            }else{\n               this.loadReports(attrs)\n            }\n        },\n\n        loadReports: function(data){\n            $(\"<div id='loading_data'></div>\").appendTo('#main_container');\n            var numbers_loaded = false;\n            var graphs_loaded = false;\n            var reports_data = new ReportsData();\n            var root = this;\n            if(document.isPrivateTenant){\n                root.fetchViewers();\n            }\n            reports_data.fetch({data: data}).done(function(response){\n                root.$('#user_analytics').html(SiteTrafficTemplate({\n                    'users': response.site_visitors,\n                    'views': response.demo_views,\n                    'completions': {\n                        'percentage': response.completion_rate.count,\n                        'progress': response.completion_rate.progress,\n                    }\n                }))\n                root.$('[data-toggle=\"popover\"]').popover({\n                    html: true\n                });\n                root.trending_chapters = response.trending_chapters;\n                root.sort_chapters_by = 'views';\n                root.loadMoreChapters = false;\n                root.loadTrendingChapters();\n            }).fail(function(response){\n                console.log('Loading numbers data failed...');\n            }).always(function(){\n                numbers_loaded = true;\n                if(graphs_loaded){\n                    $('#loading_data')[0].remove();\n                }\n            });\n            var reports_graph = new ReportsGraph();\n            reports_graph.fetch({\n                data: data\n            }).done(function(response){\n                root.loadVisitorsVsViewsGraph(response.visitors_vs_views);\n                root.loadTrendingCategories(response);\n                root.loadReferrals(response);\n                root.loadGeography(response);\n                if(response.social_shares) {\n                    root.loadSocialShareData(response.social_shares);\n                }\n            }).fail(function(response){\n                console.log('Loading graph data failed...');\n            }).always(function(){\n                graphs_loaded = true;\n                if(numbers_loaded){\n                    $('#loading_data')[0].remove();\n                }\n            });\n        },\n\n        getFilters: function(){\n            let dateRange = this.$('#metrics li.active').data('attr'),\n                groupIds = [];\n            _.each(this.$('#multiselect option:selected'), element => groupIds.push(element.value))\n            if(dateRange == 'custom'){\n                let fromDate = this.$('#from-date').datepicker().data('datepicker'),\n                    toDate = this.$('#to-date').datepicker().data('datepicker');\n                if(fromDate.selectedDates.length && toDate.selectedDates.length){\n                    var selectedFromDate = this.$('#from-date').val(),\n                        selectedToDate = this.$('#to-date').val();\n                }\n            }\n            return {\n                'date_range': dateRange,\n                'from_date': selectedFromDate,\n                'to_date': selectedToDate,\n                'category_id': this.$('#categories li.active').data('attr'),\n                'group_ids': groupIds\n            };\n        },\n\n        fetchViewers: function(currentPage=1){\n            let root = this,\n                args = this.getFilters();\n            args.page = currentPage;\n            root.groupIds = args.group_ids;\n            root.$('#viewers-block').empty().addClass('loading-viewers');\n            let viewers_data = new ViewerReports();\n                viewers_data.fetch({data:args, traditional:true}).done(function(response){\n                    root.paginationDetails = response.pagination_details;\n                    // need page-no as additional info along with response.\n                    response.page = currentPage;\n                    root.updateViewersList(response)\n                    root.renderViewers(response);\n                })\n        },\n\n        renderViewersByPage: function(event){\n            let currentPage = parseInt(this.$(event.currentTarget).data('page'));\n            if(this.VIEWERS_LIST[currentPage]){\n                let args = {\n                    'viewers': this.VIEWERS_LIST[currentPage],\n                    'page': currentPage,\n                    'pagination_details': this.paginationDetails\n                }\n                this.renderViewers(args)\n            } else {  \n                this.fetchViewers(currentPage);\n            }\n        },\n\n        paginate: function(pageNo, totalViewers){\n            let pagination = {\n                is_paginated : true\n            };\n            let noOfPages = parseInt(totalViewers / this.VIEWERS_PER_PAGE);\n            if (noOfPages == 0) {\n                pagination.is_paginated = false;\n            } else if (noOfPages != 0 && (totalViewers % this.VIEWERS_PER_PAGE) > 0) {\n                noOfPages += 1 ;\n            }\n            if (pageNo == 1) {\n                pagination.prevDisable = true ;\n            } else if (pageNo == noOfPages){\n                pagination.nextDisable = true ;\n            };\n            pagination.pagePrev = pageNo - 1;\n            pagination.pageNext = pageNo + 1;\n            let startPageNo, endPageNo;\n            if (noOfPages <= 4) {\n                startPageNo = 1;\n                endPageNo = noOfPages;\n            } else {\n                if (pageNo < 4) {\n                    startPageNo = 1;\n                    endPageNo = 4;\n                } else {\n                    /*when user clicks 4 next concurrent 4 page numbers will be displayed\n                        if data avaliable for all pages*/\n\n                    startPageNo = parseInt((pageNo / 4)) * 4;\n                    endPageNo = startPageNo + 4;\n                    if(endPageNo >= noOfPages) {\n                        startPageNo = noOfPages - 4;\n                        endPageNo = noOfPages; \n                    }\n                }\n            }\n            pagination.pages = [];\n            for (var i = startPageNo; i <= endPageNo; i++) {\n                var page = {\n                     \"pageNo\": i\n                }\n                if (i == pageNo) {\n                    page.currentPage = true;\n                };\n                pagination[\"pages\"].push(page);\n            };\n            return pagination;\n        },\n\n\n        loadViewerGraph: function(response){\n            let views = [],\n            root = this,\n            graph = response.graph_data,\n            chart_interval = 86400000,\n            completion_rate = response.graph_data.completion_rate;\n            if(graph.slots.length > 0){\n                response.graph_data.demo_views.map(function(val, index) {\n                    views.push([root.getGraphDate(graph.slots[index]), val]);\n                });\n\n                let dateRange = response.dateRange,\n                tick_size = 'day',\n                unit_between = 1,\n                format = \"%b\\n\\n%d\",\n                Max = 0,\n                Min = 0,\n                multiplier = 2;\n                switch (dateRange){\n                    case 'today':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        break;\n                    case 'yesterday':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        break;\n                    case 'week':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        unit_between = 1;\n                        break;\n                    case 'month':\n                        multiplier = 1.5;\n                        unit_between = 3;\n                        break;\n                    case 'quarter':\n                        multiplier = 3.5;\n                        unit_between = 7;\n                        break;\n                    case 'half-year':\n                        multiplier = 7;\n                        unit_between = 14;\n                        break;\n                    case 'year':\n                        multiplier = 15.5;\n                        tick_size = 'month';\n                        format = \"%b\";\n                        break;\n                    case 'custom':\n                        if( graph.slots.length ) {\n                            let dayone = root.getGraphDate(graph.slots[0]);\n                            let daytwo = root.getGraphDate(graph.slots[graph.slots.length - 1]);\n                            let daysdiff = root.dayDifference(dayone, daytwo);\n                            if (daysdiff >= 730) {//2years~\n                                tick_size = 'year';\n                                format = \"%Y\";\n                                multiplier = 365;\n                            } else if (daysdiff >= 365){//year\n                                tick_size = 'month';\n                                format = \"%b\";\n                                multiplier = 15.5;\n                            } else if (daysdiff >= 108) {//half-year~\n                                unit_between = 14;\n                                multiplier = 7;\n                            } else if (daysdiff >= 54) { //Quarter~\n                                unit_between = 7;\n                                multiplier = 3.5;\n                            } else if (daysdiff >= 28) { //Month~\n                                unit_between = 3;\n                                multiplier = 1.5;\n                            } else {\n                                multiplier = 2;\n                            }\n                        }\n                        break;\n                }\n                Max = (root.getGraphDate(graph.slots[graph.slots.length - 1]) + (chart_interval*multiplier));\n                Min = (root.getGraphDate(graph.slots[0]) - (chart_interval*multiplier));\n                $.plot(\"#graph-block\",\n                    [{\n                        data: views,\n                        label: 'Demo Views Curve',\n                        curvedLines: {\n                            apply: true,\n                            monotonicFit: true,\n                            fill: true\n                        },\n                        points: {\n                            symbol: \"circle\",\n                            fillColor: \"#1e9fb4\",\n                            radius: 5,\n                            show: true\n                        },\n                        lines: {\n                            show: true,\n                            fill: true,\n                        }\n                     }\n\n                ], {\n                     grid: {\n                         hoverable: true,\n                         clickable: true,\n                         tickColor: \"#ecf1f5\",\n                         borderWidth: 0,\n                         margin: 30\n                    },\n                    legend: false,\n                    xaxis: {\n                        max: Max,\n                        min: Min,\n                        mode: \"time\",\n                        timeformat: format,\n                        tickSize: [unit_between, tick_size],\n                        tickLength:0,\n                    },\n                     colors:['rgba(30, 159, 180, 0.5)']\n                 });\n                 $(\"#graph-block\").bind(\"plothover\", function (event, pos, item) {\n                    $(\"#tooltip\").remove();\n                    if(item) {\n                        if(item.series.label === 'Demo Views Curve') {\n                            let tooltip = \"No Views\";\n                            let hoverPoint =  completion_rate[item.dataIndex];\n                            let chapterName = Object.keys(hoverPoint)[0];\n                            let chCompleteRate = hoverPoint[chapterName] && hoverPoint[chapterName].toFixed(2);\n                            if(hoverPoint) {             \n                                tooltip = `The demo ${chapterName} is consumed ${chCompleteRate} %`;  \n                            }\n                            $('<div id=\"tooltip\">' + tooltip + '</div>').css({\n                                'top': 0,\n                                'left': 150,\n                            }).appendTo(\"#graph-block\").fadeIn(200);\n                        }\n                    }\n                });\n            }else{\n                this.$('#graph-block').html('<div class=\"no-record\">No Records Found</div>');\n            }\n        },\n\n        updateViewersList: function(data){\n            let viewer = data.viewers,\n                pageIndex = this.paginationDetails.start_page;\n            //push the split array with index\n\n            this.allViewerList = _.chunk(viewer, this.VIEWERS_PER_PAGE);\n            _.each(this.allViewerList, (ele, index) => {\n                this.VIEWERS_LIST[pageIndex] = this.allViewerList[index];\n                pageIndex += 1;\n            })\n        },\n\n        renderViewers:function(data){\n            let viewerList = {},\n                totalViewers = this.paginationDetails.total_viewers;\n            viewerList.viewers = this.VIEWERS_LIST[data.page];\n            this.$('.viewer-header .viewers-count').html(this.groupIds.length ?  totalViewers : 0);\n            //to build the pagination if the viewer count is greater than 20\n\n            if(totalViewers > this.VIEWERS_PER_PAGE){\n                viewerList.pagination = this.paginate(data.page, totalViewers);\n            }\n            if(data.viewers.length && this.groupIds.length){\n                this.$('.report-viewers-block #viewers-block').html(\n                    ViewersTemplate(viewerList)\n                )\n                this.updateProfilePic();\n            } else {\n                this.$('#viewers-block').html('<div class=\"no-viewer-report\">No Records Found</div>');\n            }\n            this.$('#viewers-block').removeClass('loading-viewers');\n        },\n\n        updateProfilePic: function(){\n            _.each($('.profile'), function(element, index){\n                $(element).attr({\n                    'data-height': 34,\n                    \"data-width\": 34,\n                    \"data-char-count\": 2,\n                    \"data-font-size\": 14\n                }).initial().css({'border-radius': '50px', '-moz-border-radius': '50px'});\n                var pic_url = $(element).attr('picture-url');\n                if(pic_url){\n                    var img = new Image();\n                    img.onload = function() {\n                        $(element).attr('src', pic_url);\n                    };\n                    img.src = pic_url;\n                }\n            });\n        },\n\n        viewerPopupShow: function(e){\n            if(this.$(\".viewer-row\").hasClass('selected')) {\n                return;\n            }\n            this.$(\".viewer-row\").addClass(\"selected\");\n            let args = this.getFilters(),\n                userId = parseInt(this.$(e.currentTarget).data('id')),\n                dateTitle = this.$('#metrics li.active').data('title'),\n                root = this;            \n            this.userId = userId;\n            let selectedViewer = new ViewerReports({'id':userId});\n            selectedViewer.fetch({data:args}).done(function(response){\n                response.dateTitle = dateTitle;\n                response.dateRange = args.date_range;\n                root.$('#viewer-popup').html(ViewerDetailTemplate(response)).show();\n                // To display the custom date\n                if(args.date_range == 'custom') {\n                    root.$('.custom-date').show();\n                    root.customDate();\n                }\n                root.$(\".details-popUpModal\").addClass(\"bounceInDown\").show();\n                root.updateProfilePic();\n                root.loadViewerGraph(response);\n            })\n            return this;\n        },\n\n        viewerPopupClose: function(){\n            this.$(\".details-popUpModal\").hide();\n            this.$(\".viewer-row\").removeClass(\"selected\");\n        },\n\n        loadTrendingChapters: function(){\n            let tr_ch = this.trending_chapters;\n            let first_sort_by = this.sort_chapters_by == 'views'? 'completion_rate': 'views';\n            let sec_sort_by = this.sort_chapters_by;\n            tr_ch = _.chain(tr_ch).sortBy(first_sort_by).sortBy(sec_sort_by).reverse().value();\n            tr_ch = _.first(tr_ch, 10);\n            this.$('.most_popular_chapters .data_block').html(\n                TrendingChaptersTemplate({\n                    'trending_chapters': tr_ch,\n                    'sort_by': this.sort_chapters_by,\n                    'load_more': this.loadMoreChapters\n                })\n            )\n        },\n\n        sortPopularChapters: function(event){\n            if($(event.target).parent().hasClass('active')){\n                return true;\n            }\n\n            this.sort_chapters_by = this.sort_chapters_by == 'views'? 'completion_rate': 'views';\n            this.loadTrendingChapters();\n        },\n\n        loadGeography: function(response){\n            let geography_list = _.map(response.geography, function(val, key) {\n                return val;\n            });\n\n            this.$('.geography_chart_block').html(GeographyTemplate({'geography': geography_list}));\n\n            if(!$.isEmptyObject(response.geography)){\n                let mapGeoJSON = Highcharts.maps['custom/world'],\n                data = [];\n                // Generate non-random data for the map\n                var country_iso_code_key = 'iso-a2';\n                _.each(mapGeoJSON.features, function (feature, index) {\n                    let countryISOCode = feature.properties[country_iso_code_key]\n                    let visit_count = response.geography[countryISOCode] && response.geography[countryISOCode]['count'] || 0;\n                    data.push({\n                        key: countryISOCode,\n                        value: visit_count\n                    });\n                });\n                // Instantiate chart\n                $(\"#geography\").highcharts('Map', {\n                    title: {\n                        text: ''\n                    },\n                    mapNavigation: {\n                        enabled: true,\n                        buttonOptions: {\n                            verticalAlign: 'bottom'\n                        }\n                    },\n                    navigation: {\n                        buttonOptions: {\n                            enabled: false,\n                        }\n                    },\n                    colorAxis: {\n                        min: 0,\n                        stops: [\n                            [0, '#EFEFFF'],\n                            [0.5, Highcharts.getOptions().colors[0]],\n                            [1, Highcharts.Color(Highcharts.getOptions().colors[0]).brighten(-0.5).get()]\n                        ]\n                    },\n                    legend: {\n                        enabled: false\n                    },\n                    series: [{\n                        data: data,\n                        mapData: mapGeoJSON,\n                        joinBy: [country_iso_code_key, 'key'],\n                        name: 'Visits',\n                        states: {\n                            hover: {\n                                color: Highcharts.getOptions().colors[2]\n                            }\n                        },\n                    }, {\n                        type: 'mapline',\n                        name: \"Separators\",\n                        data: Highcharts.geojson(mapGeoJSON, 'mapline'),\n                        nullColor: 'gray',\n                        showInLegend: false,\n                        enableMouseTracking: false\n                    }]\n                });\n            }\n        },\n\n        loadReferrals: function(response){\n            \n            let attrs = {},\n                referrals = response.referrals;\n            attrs['total_referrals'] = referrals.reduce(\n                (sum, referral) => sum + referral.count, 0);\n            attrs['referrals'] = referrals\n\n            $('.referral_chart_block').html(ReferralsTemplate(attrs));\n            if(response.referrals.length > 0){\n                var referral_list = referrals.map(\n                    ({count: data, name: label}) => ({data, label})\n                )\n\n                // Instantiate Pie Chart\n                $.plot(\"#referral\",\n                    referral_list,\n                    {\n                       series: {\n                            pie: {\n                                show: true,\n                                innerRadius:.5,\n                                shadow: {\n                                    top: 5,\n                                    left: 15,\n                                    alpha: .3\n                                },\n                                stroke: {\n                                    width: 0\n                                },\n                                label: {\n                                    show: false,\n                                    radius: 3/4,\n                                    background: {\n                                        opacity: 0,\n                                        color: '#000'\n                                    },\n                                    threshold: 0.1\n                                },\n                                highlight: {\n                                    opacity: .08\n                                }\n                            }\n                        },\n                        grid: {\n                            hoverable: true,\n                            clickable: true\n                        },\n                        colors: this.REFERRAL_GRAPH_COLORS,\n                        legend: {\n                            show: false\n                        },\n                    }\n                );\n                this.$(\"#referral\").bind(\"plothover\", function (event, pos, item) {\n                    $(\"#tooltip\").remove();\n                    if(item){\n                        let tooltip = item.series.label + ' : ' + parseFloat(item.series.percent).toFixed(2) + '%';\n                        $('<div id=\"tooltip\">' + tooltip + '</div>').css({\n                            top: pos.pageY - 50,\n                            left: pos.pageX - 70,\n                        }).appendTo(\"body\").fadeIn(200);\n\n                    }\n                });\n            }\n        },\n\n        loadTrendingCategories: function(response){\n            if(response.trending_categories.length > 0){\n                let trending_categories = [];\n                let x_axis_labels = [];\n\n                _.each(response.trending_categories, function (val, index) {\n                    let word = val.views == 1 ? ' View' : ' Views';\n                    trending_categories.push([\n                        index,\n                        val.views,\n                        val.section + ' : ' + val.views + word\n                    ])\n                    \n                    if(val.section.length > 10){\n                        val.section = val.section.substring(0,10) + '...';\n                    }\n                    x_axis_labels.push([index, val.section])\n                });\n\n                $.plot($(\"#top_trending_cat_chart\"),\n                    [{\n                        data: trending_categories,\n                        label: \"Page Views\"\n                    }], {\n                        series: {\n                            bars: {\n                                order:2,\n                                align:\"center\",\n                                show: true,\n                                lineWidth:1,\n                                barWidth:.6,\n                                fill: true,\n                                fillColor: {\n                                    colors:[ {\n                                        opacity: 1\n                                    }, {\n                                        opacity: 1\n                                    }]\n                                }\n                            },\n                            shadowSize: 2\n                        },\n                        legend: {\n                            show: !1\n                        },\n                        grid: {\n                            hoverable: true,\n                            clickable: true,\n                            tickColor: \"#ecf1f5\",\n                            borderWidth: 0,\n                            margin: 30\n                        }, \n                        colors:[\"#ffc40d\"],\n                        xaxis: {\n                             autoscaleMargin: 0,\n                            ticks: x_axis_labels,\n                            tickDecimals: 0,\n                            tickLength:0\n                         }, \n                        yaxis: {\n                             autoscaleMargin: .5,\n                            ticks: 5,\n                            tickDecimals: 0\n                         }\n                    }\n                )\n\n                this.$(\"#top_trending_cat_chart\").bind(\"plothover\", function (event, pos, item) {\n                    $(\"#tooltip\").remove();\n                    if(item){\n                        let tooltip = item.series.data[item.dataIndex][2];\n                        $('<div id=\"tooltip\">' + tooltip + '</div>').css({\n                            top: item.pageY - 50,\n                            left: item.pageX - 70,\n                        }).appendTo(\"body\").fadeIn(200);\n                    }\n                });\n            }else{\n                this.$('#top_trending_cat_chart').html('<div class=\"no-report\">No Records Found</div');\n            }\n        },\n\n        loadVisitorsVsViewsGraph: function(response){\n            let visitors = [],\n            views = [],\n            root = this,\n            chart_interval = 86400000;\n            if(response.slots.length > 0){\n                response.site_visitors.map(function(val, index) {\n                    visitors.push([root.getGraphDate(response.slots[index]), val]);\n                 });\n                 response.demo_views.map(function(val, index) {\n                    views.push([root.getGraphDate(response.slots[index]), val]);\n                 });\n                let date_range = $('#metrics li.active').attr('data-attr'),\n                tick_size = 'day',\n                unit_between = 1,\n                format = \"%b\\n\\n%d\",\n                Max = 0,\n                Min = 0,\n                multiplier = 2;\n\n                 switch (date_range){\n                    case 'today':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        break;\n                    case 'yesterday':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        break;\n                    case 'week':\n                        multiplier = 0.5;\n                        tick_size = 'day';\n                        unit_between = 1;\n                        break;\n                    case 'month':\n                        multiplier = 1.5;\n                        unit_between = 3;\n                        break;\n                    case 'quarter':\n                        multiplier = 3.5;\n                        unit_between = 7;\n                        break;\n                    case 'half-year':\n                        multiplier = 7;\n                        unit_between = 14;\n                        break;\n                    case 'year':\n                        multiplier = 15.5;\n                        tick_size = 'month';\n                        format = \"%b\";\n                        break;\n                    case 'custom':\n                        if( response.slots.length ) {\n                            let dayone = root.getGraphDate(response.slots[0]);\n                            let daytwo = root.getGraphDate(response.slots[response.slots.length - 1]);\n                            let daysdiff = root.dayDifference(dayone, daytwo);\n                            if (daysdiff >= 730) {//2years~\n                                tick_size = 'year';\n                                format = \"%Y\";\n                                multiplier = 365;\n                            } else if (daysdiff >= 365){//year\n                                tick_size = 'month';\n                                format = \"%b\";\n                                multiplier = 15.5;\n                            } else if (daysdiff >= 108) {//half-year~\n                                unit_between = 14;\n                                multiplier = 7;\n                            } else if (daysdiff >= 54) { //Quarter~\n                                unit_between = 7;\n                                multiplier = 3.5;\n                            } else if (daysdiff >= 28) { //Month~\n                                unit_between = 3;\n                                multiplier = 1.5;\n                            } else {\n                                multiplier = 2;\n                            }\n                        }\n                        break;\n                }\n                Max = (root.getGraphDate(response.slots[response.slots.length - 1]) + (chart_interval*multiplier));\n                Min = (root.getGraphDate(response.slots[0]) - (chart_interval*multiplier));\n                $.plot(\"#spline_chart\",\n                    [{\n                        data: visitors,\n                        label: 'Site Visitors Curve',\n                        curvedLines: {\n                            apply: true,\n                            monotonicFit: true\n                        }\n                     }, {\n                        data: views,\n                        label: 'Demo Views Curve',\n                        curvedLines: {\n                            apply: true,\n                            monotonicFit: true\n                        }\n                     }, {\n                        data: views,\n                        label: 'Demo Views',\n                        points: {\n                            symbol: \"circle\",\n                            fillColor: \"#1e9fb4\",\n                            radius: 5,\n                            show: true\n                        },\n                        lines: {\n                            show: false\n                        },\n                     }, {\n                        data: visitors,\n                        label: 'Site Visitors',\n                        points: {\n                            symbol: \"square\",\n                            fillColor: \"#222838\",\n                            radius: 5,\n                            show: true\n                        },\n                        lines: {\n                            show: false\n                        },\n                     }], {\n                     series: {\n                        curvedLines: {\n                            active: true\n                        },\n                         lines: {\n                             show: true,\n                            fill: true,\n                            fillColor: {\n                                 colors:[{\n                                     opacity: 1\n                                 },{\n                                     opacity: 1\n                                 }]\n                             }\n                         },\n                     },\n                     grid: {\n                         hoverable: true,\n                         clickable: true,\n                         tickColor: \"#ecf1f5\",\n                         borderWidth: 0,\n                         margin: 30\n                    },\n                    legend: false,\n                    xaxis: {\n                        max: Max,\n                        min: Min,\n                        mode: \"time\",\n                        timeformat: format,\n                        tickSize: [unit_between, tick_size],\n                        tickLength:0,\n                    }, \n                     colors:['rgba(34, 40, 56, 0.5)', 'rgba(30, 159, 180, 0.5)']\n                 });\n\n                $(\"#spline_chart\").bind(\"plothover\", function (event, pos, item) {\n                     $(\"#tooltip\").remove();  \n                     if(item) {\n                         if( item.series.label === 'Site Visitors' || item.series.label === 'Demo Views' ) {\n                            let tooltip = item.series.label + ': ' + item.series.data[item.dataIndex][1];\n                            $('<div id=\"tooltip\">' + tooltip + '</div>').css({\n                                'top': item.pageY - 50,\n                                'left': item.pageX - 70,\n                            }).appendTo(\"body\").fadeIn(200);\n                        }\n                     }\n                });\n            }else{\n                $('#spline_chart').html('<div class=\"no-report\">No Records Found</div>');\n            }\n        },\n\n        loadSocialShareData: function(social_shares) {\n            let resultSet = [];\n            _.each(social_shares.sources, (share, index) => {\n                resultSet.push({\n                    label: share.medium,\n                    data: share.count\n                })\n            })\n            this.$('.social_share_block').html(SocialShareTemplate({\n                \"total_shares\": social_shares[\"total\"],\n                \"social_shares\": resultSet\n            }));\n            if(social_shares['total'] > 0){\n                // Instantiate Pie Chart\n                if(!this.$(\"#social_share_graph\").length) return;\n                $.plot(\"#social_share_graph\",\n                    resultSet,\n                    {\n                        series: {\n                            pie: {\n                                show: true,\n                                radius: 0.8,\n                                innerRadius: 0.4,\n                                shadow: {\n                                    top: 5,\n                                    left: 15,\n                                    alpha: .3\n                                },\n                                stroke: {\n                                    width: 0\n                                },\n                                label: {\n                                    show: false\n                                },\n                                highlight: {\n                                    opacity: .08\n                                }\n                            }\n                        },\n                        grid: {\n                            hoverable: true\n                        },\n                        colors: this.SOCIAL_MEDIA_GRAPH_COLORS,\n                        legend: {\n                            show: false\n                        },\n                    }\n                );\n                this.$(\"#social_share_graph\").bind(\"plothover\", (event, pos, item) => {\n                    $(\"#tooltip\").remove();\n                    if(item){\n                        var tooltip = `${item.series.label} : ${item.series.datapoints.points[1]}`;\n                        $(`<div id=\"tooltip\"> ${tooltip} </div>`).css({\n                            top: pos.pageY - 50,\n                            left: pos.pageX - 70,\n                        }).appendTo(\"body\").show();\n    \n                    }\n                });\n            }\n        },\n\n        dayDifference: function( time1, time2){\n            let timeDiff = Math.abs(time2 - time1);\n            return Math.ceil(timeDiff / (1000 * 3600 * 24));\n        },\n\n        loadMore: function(event){\n            this.$(event.target).parent().children('.reports_data_row').removeClass('hidden');\n            this.$(event.target).remove();\n            this.loadMoreChapters = true;\n        },\n\n        getGraphDate: function(date_string){\n            var date_string_list = date_string.split(',');\n            var year = parseInt(date_string_list[0]);\n            var month = parseInt(date_string_list[1]) - 1;\n            var day = parseInt(date_string_list[2]);\n            var tzOffset = new Date();\n            tzOffset = tzOffset.getTimezoneOffset() * 60 * 1000;\n            var time = new Date(year, month, day).getTime() - tzOffset;\n            return time;\n        },\n\n    });\n\n    return ReportsView;\n});\n"],"sourceRoot":""}