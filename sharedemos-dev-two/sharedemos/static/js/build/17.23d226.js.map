{"version":3,"sources":["webpack:///./sharedemos/static/js/apps/journeys/models/journeys.js","webpack:///./sharedemos/static/js/apps/journeys/models/tags_options.js","webpack:///./sharedemos/static/js/apps/journeys/routers/router.js","webpack:///./sharedemos/static/js/apps/journeys/templates/create_journeys.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/journey_assets.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/launchpad.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/list_journeys.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/popups.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/site-map/main.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/site-map/render-playlists.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/site-map/render-sections.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/tag_options.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/tags.handlebars","webpack:///./sharedemos/static/js/apps/journeys/templates/welcome.handlebars","webpack:///./sharedemos/static/js/apps/journeys/views/edit.js","webpack:///./sharedemos/static/js/apps/journeys/views/launchpad.js"],"names":["define","Backbone","Journeys","Model","extend","urlRoot","TagsOptions","_","LaunchPadView","JourneyRouter","Router","routes","initialize","view","routeHandler","journey","loadView","undelegateEvents","$","Common","ProductTree","welcomeTemplate","createJourneysTemplate","listJourneysTemplate","journeyAssetsTemplate","popupsTemplate","tagTemplate","tagOptionsTemplate","journeySiteMapTemplate","EditView","View","selectedJourneySlug","SITE_MAP_DATA","journeyTags","journeyTagOptions","el","template","events","closePopup","listAllJourneys","renderPopupTemplate","getTagsAndOptions","tagsOptions","root","fetch","success","model","response","tags","options","initAutoComplete","error","status","console","log","statusText","html","initEolDatePicker","element","datepicker","language","dateFormat","minDate","Date","timeFormat","autoClose","clearButton","timepicker","onSelect","selectedDate","date","inst","data","toISOString","slice","toggleEditTabs","event","selectedTab","currentTarget","removeClass","addClass","createTagGroup","append","createTag","name","parent","find","val","length","parents","attr","deleteTag","remove","deleteTagGroup","journeys","empty","each","icon_path","DEFAULT_MEDIA_PATH","user_groups","restricted_to_group_details","isPrivateTenant","document","initializeJourneySortable","sortable","placeholder","handle","forcePlaceholderSize","containment","update","ui","item","prev","save","patch","xhr","status_code","message","showPopup","errorMessage","text","createJourneyPopup","e","hasClass","defaultLocaleID","SDCookies","getItem","switchLanguageWarning","add_journey","isEdit","JSON","parse","stringify","expireAt","ele","slug","id","when","async","processData","done","journeyName","description","expire_at","selectedGroupIds","push","group","is_default","includes","_id","is_selected","toLocaleString","replace","updateSelectedGroupsInfo","popupName","setTimeout","selectedGroupsElem","selectedGroupsTitle","Array","from","innerText","join","validateJourney","formID","fieldName","fieldValue","value","removeAttr","saveJourney","preventDefault","showError","currentFormName","formName","journeyDescription","elem","customErrorMessage","tag","toLowerCase","submitElem","closeJourneyPopup","uploadJourneyCover","target","file","files","type","startsWith","img","createElement","classList","add","next","reader","FileReader","onload","aImg","src","result","readAsDataURL","iconData","FormData","cache","contentType","error_message","undefined","toggleJourneyPrivacyList","toggleClass","siblings","togglePrivacyOption","showAddChaptersToJourneysPopup","journeySlug","journeyAssets","journeyAssetsDetails","assets","asset","breadcrumb","section","product","initializeJourneyAssetsSortable","getSelectedJourneySlug","browserChapters","selectedGroups","parseInt","fetchSiteMapData","then","siteMapData","updateSitemapData","journeyAsset","journeyAssetIds","preSelectJourneyAssets","$el","NO_RECORDS_TEXT","hide","catch","children","playlists","playlist","demos","chapter","walkthrough_id","updateUrl","parentBlock","altKey","indexOf","keyCode","saveCTADetails","ctaTitle","ctaLink","validateUrl","ctaDetails","actionInProgress","wait","actionSuccess","hideAddChaptersToJourneysPopup","showAddCTAToJourneysPopup","journeyDetails","journeyCTADetails","cta_details","ctaText","cta_button","cta_text","cta_link","actionTypeText","hideAddCTAToJourneysPopup","toogleSitMapSections","icon","toggle","toggleJourneyActions","saveAssetsDetails","assetsDetails","is_asset","index","linkElem","removeAsset","updateChooseChapterButtonText","saveElem","assetsCount","addInternalLink","selectedLinks","selectedLink","updateInternalLink","replacePopup","selectedElement","link","window","location","origin","mainListElement","closest","elementType","productSlug","sectionSlug","showPublishJourneyPopup","confirmPublishJourney","is_publish","duration","responseJSON","actionFailed","showEnableDisableJourneyPopup","enable_id","disable_id","enableDisableJourney","is_enabled","showDeleteJourneyPopup","delete_id","deleteJourney","destroy","css","show","warningMsg","defaultLocale","closeLanguageWarningPopup","showOverlay","autocomplete","source","popUpData","dataset","showpopup","hidepopup","editToolTip","focus","retain_popup","Launchpad","LaunchpadView","DEFAULT_LINK_ICON","DEFAULT_HTML_ICON","journeyId","initialSlide","journeyAvailable","some","i","href","thumbnail","cdn_url","first_slide","tenantLogo","displayJourney","slick","prevArrow","nextArrow","slidesToShow","slidesToScroll","adaptiveHeight","changePage","handleJourneyChange","history","navigate","launchPageScroll","page","scrollTop","innerHeight","scrollHeight"],"mappings":"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","file":"17.23d226.js","sourcesContent":["/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var Journeys = Backbone.Model.extend({\n        urlRoot: \"/api/journey\",\n    });\n\n    return Journeys;\n});","/*global define */\ndefine([\n    'backbone'\n], function (Backbone) {\n    'use strict';\n\n    var TagsOptions = Backbone.Model.extend({\n        urlRoot: \"/api/journey/tags-and-options\",\n    });\n\n    return TagsOptions;\n});","/*global define */\r\ndefine([\r\n    'underscore',\r\n    'backbone',\r\n    '../views/launchpad'\r\n], function (_, Backbone, LaunchPadView){\r\n    'use strict';\r\n\r\n    var JourneyRouter = Backbone.Router.extend({\r\n        routes: {\r\n            \":journey\": \"routeHandler\"\r\n        },\r\n\r\n        initialize: function(){\r\n            this.view = null;\r\n            return this;\r\n        },\r\n\r\n        routeHandler: function(journey){\r\n            this.loadView(new LaunchPadView(journey));\r\n        },\r\n\r\n        loadView : function(view){\r\n            if(this.view){\r\n                this.view.undelegateEvents();\r\n            }\r\n            this.view = view;\r\n        },\r\n\r\n    });\r\n\r\n\r\n    return JourneyRouter;\r\n});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <!-- New Journey Popup -->\\r\\n    <section class=\\\"full_popup_block\\\">\\r\\n        <div class=\\\"full_popup_overlay\\\"></div>\\r\\n        <div class=\\\"full_popup_box create_journeys\\\">\\r\\n            <div class=\\\"close_full_popup\\\" data-popup=\\\"create_journeys\\\"></div>\\r\\n            <div class=\\\"full_popup_content\\\">\\r\\n                <h4>\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isEdit\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.program(4, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":20},\"end\":{\"line\":8,\"column\":66}}})) != null ? stack1 : \"\")\n    + \" Journey</h4>\\r\\n                <form class=\\\"text-left\\\" data-journey-slug=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" name=\\\"create-journeys-form\\\" id=\\\"create-journeys-form\\\" enctype=\\\"multipart/form-data\\\">\\r\\n                    <input type=\\\"hidden\\\" name=\\\"is_general\\\" value=\\\"Yes\\\">\\r\\n\\r\\n                    <div class=\\\"journey-tabs\\\">\\r\\n                        <div class=\\\"journey-info active\\\" data-tab=\\\"information\\\">information</div>\\r\\n                        <div class=\\\"journey-tag\\\" data-tab=\\\"tags\\\">tagging</div>\\r\\n                    </div>\\r\\n\\r\\n                    <div class=\\\"journey-information active\\\" data-tab=\\\"information\\\">\\r\\n                        <div class=\\\"form-group col-xs-12\\\">\\r\\n                            <label for=\\\"company\\\" class=\\\"mandatory-field uppercase\\\">journey name</label>\\r\\n                            <div class=\\\"sub-title\\\">Provide a name for this journey.</div>\\r\\n                            <div class=\\\"input_wrap\\\">\\r\\n                                <input type=\\\"text\\\" placeholder=\\\"Name\\\" name=\\\"name\\\" class=\\\"section-name form-control\\\" autocomplete=\\\"off\\\" value=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"journeyName\") : depth0), depth0))\n    + \"\\\">\\r\\n                            </div>\\r\\n                        </div>\\r\\n\"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias1,(depth0 != null ? lookupProperty(depth0,\"isPrivateTenant\") : depth0),\"&&\",((stack1 = (depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":24},\"end\":{\"line\":42,\"column\":36}}})) != null ? stack1 : \"\")\n    + \"                        <div class=\\\"form-group col-xs-12\\\">\\r\\n                            <label for=\\\"message\\\" class=\\\"uppercase\\\">journey description</label>\\r\\n                            <div class=\\\"sub-title\\\">Write a short description for this journey.</div>\\r\\n                            <div class=\\\"input_wrap\\\">\\r\\n                                <textarea placeholder=\\\"Description\\\" name=\\\"description\\\" class=\\\"section-description form-control\\\">\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"description\") : depth0), depth0))\n    + \"</textarea>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group col-xs-12\\\">\\r\\n                            <label for=\\\"eol\\\" class=\\\"uppercase\\\">end of life</label>\\r\\n                            <div class=\\\"input_wrap\\\">\\r\\n                                <input type=\\\"text\\\" name=\\\"eol\\\" placeholder=\\\"Click to select date-time\\\" class=\\\"datepicker-here form-control\\\" id=\\\"journey_expire_at\\\" readonly=\\\"true\\\" data-position=\\\"top right\\\" data-timepicker=\\\"true\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"expireAt\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":53,\"column\":227},\"end\":{\"line\":53,\"column\":276}}})) != null ? stack1 : \"\")\n    + \" />\\r\\n                                <div>&nbsp;</div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!--journey tagging section-->\\r\\n                    <div class=\\\"journey-tagging\\\" data-tab=\\\"tags\\\">              \\r\\n                        <div class=\\\"form-group col-xs-12\\\">\\r\\n                            <label for=\\\"company\\\" class=\\\"mandatory-field\\\">Add tags</label>\\r\\n                            <div class=\\\"sub-title\\\">create tag to your journey to help organize and identify them.</div>\\r\\n                            <div class=\\\"journey-tag-groups-wrap\\\">                               \\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"tags\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":64,\"column\":32},\"end\":{\"line\":66,\"column\":41}}})) != null ? stack1 : \"\")\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"tags\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(15, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":67,\"column\":32},\"end\":{\"line\":69,\"column\":43}}})) != null ? stack1 : \"\")\n    + \"                            </div>                                        \\r\\n                            <button type=\\\"button\\\" class=\\\"journey-create-tag-group btn\\\">Add Tag Group</button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <!--end of journey tagging section-->\\r\\n                    <input type=\\\"submit\\\" name=\\\"submit\\\" value=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isEdit\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(17, data, 0),\"inverse\":container.program(19, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":75,\"column\":62},\"end\":{\"line\":75,\"column\":98}}})) != null ? stack1 : \"\")\n    + \" JOURNEY\\\" class=\\\"btn\\\" name=\\\"create-journeys-form\\\" data-popup=\\\"create_journeys\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"isEdit\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(21, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":75,\"column\":177},\"end\":{\"line\":75,\"column\":214}}})) != null ? stack1 : \"\")\n    + \">\\r\\n                </form>\\r\\n            </div>\\r\\n        </div>\\r\\n    </section>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \" Edit \";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" Add New \";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"form-group col-xs-12\\\">\\r\\n                            <label for=\\\"company\\\" class=\\\"mandatory-field\\\">Allow Access To</label>\\r\\n                            <div class=\\\"sub-title\\\">Who do you want this journey to be visible for? Select all that apply.</div>\\r\\n                            <div class=\\\"input_wrap journeys-privacy-list\\\">\\r\\n                                <div class=\\\"section-name form-control journeys-privacy-btn\\\" data-default-text=\\\"Select Groups\\\">Select Groups</div>\\r\\n                                <ul class=\\\"journeys-privacy-opt hide\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":32,\"column\":36},\"end\":{\"line\":38,\"column\":45}}})) != null ? stack1 : \"\")\n    + \"                                </ul>\\r\\n                            </div>\\r\\n                        </div>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"is_author\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.program(10, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":33,\"column\":40},\"end\":{\"line\":37,\"column\":47}}})) != null ? stack1 : \"\");\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                            <li data-group-id=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"_id\") : depth0), depth0))\n    + \" class=\\\"selected is-author\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"10\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                            <li data-group-id=\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"_id\") : depth0), depth0))\n    + \" \"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"is_default\") : depth0),\"||\",(depth0 != null ? lookupProperty(depth0,\"is_selected\") : depth0),{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":36,\"column\":75},\"end\":{\"line\":36,\"column\":153}}})) != null ? stack1 : \"\")\n    + \">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    return \"class=\\\"selected\\\"\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"data-datetime=\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"expireAt\") : depth0), depth0));\n},\"15\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/tags.handlebars\"),depth0,{\"name\":\"tags\",\"data\":data,\"indent\":\"                                    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"17\":function(container,depth0,helpers,partials,data) {\n    return \"SAVE\";\n},\"19\":function(container,depth0,helpers,partials,data) {\n    return \"ADD\";\n},\"21\":function(container,depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"add_journey\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":80,\"column\":7}}})) != null ? stack1 : \"\");\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.escapeExpression, alias2=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"journey-link-data\\\">\\r\\n        <div class=\\\"journey-link-details\\\">\\r\\n            <div class=\\\"journey-link-title\\\">\"\n    + alias1(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</div>\\r\\n\"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias2,(depth0 != null ? lookupProperty(depth0,\"type\") : depth0),\"==\",\"chapter\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":12},\"end\":{\"line\":7,\"column\":24}}})) != null ? stack1 : \"\")\n    + \"            <div class=\\\"journey-link-edit camel-case\\\">\\r\\n                <span class=\\\"remove-journey-link\\\">\"\n    + alias1(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias2,\"remove\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":67}}}))\n    + \"</span>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"journey-asset-drag no-action ui-sortable-handle\\\"></div>\\r\\n    </li>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <a href=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"link\") : depth0), depth0))\n    + \"\\\" class=\\\"journey-link-url\\\" data-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"id\") : depth0), depth0))\n    + \"\\\" data-slug=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" data-type=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"type\") : depth0), depth0))\n    + \"\\\" target=\\\"_blank\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"breadcrumb\") : depth0), depth0))\n    + \"</a>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":14,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <img src=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"tenantLogo\") : depth0), depth0))\n    + \"\\\" alt=\\\"tenant-logo\\\">\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"                <div class=\\\"logo-text\\\">SHAREDEMOS</div>\\r\\n\";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <div class=\\\"journey-content\\\" data-journey-slug=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\"\\r\\n                         data-journey-name=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"assets\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":24},\"end\":{\"line\":25,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\r\\n\";\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                            <p data-chapter=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</p>\\r\\n\";\n},\"8\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"cta_details\") : depth0)) != null ? lookupProperty(stack1,\"cta_button\") : stack1)) != null ? lookupProperty(stack1,\"cta_link\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":31,\"column\":12},\"end\":{\"line\":37,\"column\":19}}})) != null ? stack1 : \"\");\n},\"9\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                <a href=\\\"\"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"cta_details\") : depth0)) != null ? lookupProperty(stack1,\"cta_button\") : stack1)) != null ? lookupProperty(stack1,\"cta_link\") : stack1), depth0))\n    + \"\\\" target=\\\"_blank\\\">\\r\\n                    <div class=\\\"side-bar-cta\\\" data-journey-slug=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\\r\\n                        \"\n    + alias2(alias1(((stack1 = ((stack1 = (depth0 != null ? lookupProperty(depth0,\"cta_details\") : depth0)) != null ? lookupProperty(stack1,\"cta_button\") : stack1)) != null ? lookupProperty(stack1,\"cta_text\") : stack1), depth0))\n    + \"\\r\\n                    </div>\\r\\n                </a>\\r\\n\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <div class=\\\"journey-pages\\\" data-journey-slug=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"assets\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(12, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":50,\"column\":24},\"end\":{\"line\":64,\"column\":33}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\r\\n\";\n},\"12\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                            <div class=\\\"launch-page\\\" data-chapter=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\\r\\n                                <h1 class=\\\"content-title\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h1>\\r\\n\"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"type\") : depth0),\"==\",\"chapter\",{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":53,\"column\":32},\"end\":{\"line\":62,\"column\":44}}})) != null ? stack1 : \"\")\n    + \"                            </div>\\r\\n\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                    <div class=\\\"chapter-launcher\\\">\\r\\n                                        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"thumbnail\") : depth0), depth0))\n    + \"\\\">\\r\\n                                        <div\\r\\n                                       class=\\\"playerframe-link\\\" data-product-id=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"product\") : depth0)) != null ? lookupProperty(stack1,\"slug\") : stack1), depth0))\n    + \"\\\"\\r\\n                                       data-section-id=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? lookupProperty(depth0,\"section\") : depth0)) != null ? lookupProperty(stack1,\"slug\") : stack1), depth0))\n    + \"\\\" data-chapter-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\\r\\n                                        launch\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"launch-pad-player-wrapper active side-bar-open\\\">\\r\\n    <div class=\\\"launch-pad-side-bar\\\">\\r\\n        <a href=\\\"/\\\">\\r\\n            <div class=\\\"exit-launch-pad-player\\\"></div>\\r\\n        </a>\\r\\n        <div class=\\\"launch-pad-company-logo-holder\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"tenantLogo\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":12},\"end\":{\"line\":11,\"column\":19}}})) != null ? stack1 : \"\")\n    + \"        </div>\\r\\n        <h1 class=\\\"launch-pad-title\\\"></h1>\\r\\n        <div class=\\\"launch-pad-slide-controllers\\\">\\r\\n            <div class=\\\"prev-launch-pad\\\"></div>\\r\\n            <div class=\\\"next-launch-pad\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"inner\\\">\\r\\n            <div class=\\\"journeys-holder\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":20,\"column\":16},\"end\":{\"line\":27,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </div>\\r\\n        </div>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(8, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":30,\"column\":8},\"end\":{\"line\":38,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n    <div class=\\\"launch-pad-main-screen\\\">\\r\\n        <div class=\\\"toggle-launch-pad-side-bar\\\">\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n            <div></div>\\r\\n        </div>\\r\\n        <div class=\\\"launch-pad-main-container\\\">\\r\\n            <div class=\\\"content\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(11, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":48,\"column\":16},\"end\":{\"line\":66,\"column\":25}}})) != null ? stack1 : \"\")\n    + \"            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" enabled \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \" disabled \";\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                            <img class=\\\"journey-cover\\\" src=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"icon_path\") : depth0), depth0))\n    + \"\\\"/>\\r\\n\";\n},\"7\":function(container,depth0,helpers,partials,data) {\n    return \"                            <p class=\\\"upper-case\\\"><span>Add Cover</span></p>\\r\\n\";\n},\"9\":function(container,depth0,helpers,partials,data) {\n    return \"edit\";\n},\"11\":function(container,depth0,helpers,partials,data) {\n    return \"add\";\n},\"13\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                        <div class=\\\"input_wrap selected-journeys-privacy-list\\\">\\r\\n                            <label class=\\\"uppercase\\\">visibility</label>\\r\\n                            <div class=\\\"section-name form-control journeys-privacy-btn\\\">\"\n    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1), depth0))\n    + \" Group\"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),\">\",1,{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(14, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":27,\"column\":116},\"end\":{\"line\":27,\"column\":167}}})) != null ? stack1 : \"\")\n    + \" Selected</div>\\r\\n                            <ul class=\\\"selected journeys-privacy-opt hide\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(16, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":29,\"column\":32},\"end\":{\"line\":31,\"column\":41}}})) != null ? stack1 : \"\")\n    + \"                            </ul>\\r\\n                        </div>\\r\\n\";\n},\"14\":function(container,depth0,helpers,partials,data) {\n    return \"s\";\n},\"16\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                                <li data-group-id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"_id\") : depth0), depth0))\n    + \"\\\" class=\\\"selected\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"18\":function(container,depth0,helpers,partials,data) {\n    return \"draft-mode\";\n},\"20\":function(container,depth0,helpers,partials,data) {\n    return \"published\";\n},\"22\":function(container,depth0,helpers,partials,data) {\n    return \"Draft\";\n},\"24\":function(container,depth0,helpers,partials,data) {\n    return \" Disable \";\n},\"26\":function(container,depth0,helpers,partials,data) {\n    return \" Enable \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"work-area journeys journeys-details-wrap journey-background shadow\\\" data-journey-slug=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\"  data-journey-name=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\r\\n    <div class=\\\"tenant-wrap\\\">\\r\\n        <div class=\\\"tenant-details row\\\">\\r\\n            <div class=\\\"journeys-details \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"is_enabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":41},\"end\":{\"line\":4,\"column\":93}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n                <div class=\\\"col-sm-4\\\">\\r\\n                    <input type=\\\"file\\\" name=\\\"journeys-cover-btn\\\" id=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" class=\\\"journeys-cover-btn\\\" accept=\\\"image/*\\\">\\r\\n                    <label class=\\\"journeys-cover\\\" for=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"icon_path\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(5, data, 0),\"inverse\":container.program(7, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":24},\"end\":{\"line\":12,\"column\":31}}})) != null ? stack1 : \"\")\n    + \"                    </label>\\r\\n                </div>\\r\\n                <div class=\\\"col-sm-8\\\">\\r\\n                    <div class=\\\"journeys-title\\\"><span class=\\\"journeys-name\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span><span class=\\\"edit-journey-btn\\\" data-form-name=\\\"create_journeys\\\"></span>\\r\\n                    </div>\\r\\n                    <p class=\\\"journeys-description\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"description\") : depth0), depth0))\n    + \"</p>\\r\\n                    <div class=\\\"journeys-btns\\\">\\r\\n                        <div>\\r\\n                            <div class=\\\"add-chapters-to-journeys uppercase\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"assets\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.program(11, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":76},\"end\":{\"line\":21,\"column\":112}}})) != null ? stack1 : \"\")\n    + \" chapters</div>\\r\\n                            <div class=\\\"add-cta-to-journeys uppercase\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,((stack1 = (depth0 != null ? lookupProperty(depth0,\"cta_details\") : depth0)) != null ? lookupProperty(stack1,\"cta_button\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(9, data, 0),\"inverse\":container.program(11, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":71},\"end\":{\"line\":22,\"column\":123}}})) != null ? stack1 : \"\")\n    + \" cta button</div>\\r\\n                        </div>\\r\\n\"\n    + ((stack1 = __default(require(\"/docker/sharedemos/static/js/helpers/handlebars/compare.js\")).call(alias3,(depth0 != null ? lookupProperty(depth0,\"isPrivateTenant\") : depth0),\"&&\",((stack1 = (depth0 != null ? lookupProperty(depth0,\"user_groups\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"compare\",\"hash\":{},\"fn\":container.program(13, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":24,\"column\":24},\"end\":{\"line\":34,\"column\":36}}})) != null ? stack1 : \"\")\n    + \"                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"journey-drag no-action ui-sortable-handle\\\"></div>\\r\\n            <div class=\\\"journey-actions\\\">\\r\\n                <span class=\\\"journey-status uppercase \"\n    + ((stack1 = lookupProperty(helpers,\"unless\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"unless\",\"hash\":{},\"fn\":container.program(18, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":40,\"column\":54},\"end\":{\"line\":40,\"column\":96}}})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n                    \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"published\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(20, data, 0),\"inverse\":container.program(22, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":41,\"column\":20},\"end\":{\"line\":41,\"column\":66}}})) != null ? stack1 : \"\")\n    + \"\\r\\n                </span>\\r\\n                <div class=\\\"journey-hidden-actions\\\">\\r\\n                    <div class=\\\"journey-actions-btn\\\">...</div>\\r\\n                    <div class=\\\"journey-actions-list hidden\\\">\\r\\n                        <ul>\\r\\n                            <li class=\\\"publish-journey\\\">Publish</li>\\r\\n                            <li class=\\\"change-journey-status\\\">\\r\\n                                \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias3,(depth0 != null ? lookupProperty(depth0,\"is_enabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(24, data, 0),\"inverse\":container.program(26, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":49,\"column\":32},\"end\":{\"line\":49,\"column\":82}}})) != null ? stack1 : \"\")\n    + \"\\r\\n                            </li>\\r\\n                            <li class=\\\"delete-journey\\\">Delete</li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression;\n\n  return \"<div class=\\\"dashboard-overlay\\\">\\r\\n    <div class=\\\"popup-wrap\\\">\\r\\n        <!-- non-default language create warning popup -->\\r\\n        <div class=\\\"popup-box create-warning\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">\\r\\n                \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"warning\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":16},\"end\":{\"line\":6,\"column\":34}}}))\n    + \"\\r\\n            </div>\\r\\n            <div class=\\\"popup-info text-center\\\"></div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel\\\" rel=\\\"create-warning\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"OK\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":61},\"end\":{\"line\":11,\"column\":74}}}))\n    + \"</div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- Error message popup -->\\r\\n        <div class=\\\"popup-box failed-case\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">\\r\\n                \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"something went wrong\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":16},\"end\":{\"line\":18,\"column\":47}}}))\n    + \"\\r\\n            </div>\\r\\n            <div class=\\\"popup-info text-center\\\"></div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel\\\" rel=\\\"failed-case\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"OK\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":58},\"end\":{\"line\":23,\"column\":71}}}))\n    + \"</div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- Chapter popups -->\\r\\n        <div class=\\\"popup-box add-journey-chapters-popup\\\">\\r\\n            <!-- 1st popup -->\\r\\n            <div class=\\\"chapters-popup-landing\\\">\\r\\n                <div class=\\\"camel-case popup-title\\\">\\r\\n                   <span class=\\\"form-action-type\\\">add</span> chapters\\r\\n                </div>\\r\\n                <form name=\\\"save-assets\\\" class=\\\"save-assets\\\">\\r\\n                    <div class=\\\"popup-info\\\">\\r\\n                        <label>\\r\\n                            <span class=\\\"mandatory-field uppercase\\\">choose chapters</span>\\r\\n                        </label>\\r\\n                        <p>Select the chapters from your library that you would like to add to this journey. You can select chapters compatible with your visibility preferences.</p>\\r\\n                        <div class=\\\"uppercase trigger-inplace-popup browser-chapters black-bg-btn\\\" data-hidePopup=\\\"chapters-popup-landing\\\" data-showPopup=\\\"chapters-list-popup\\\">browse your library</div>\\r\\n                        <ul class=\\\"journey-assets\\\"></ul>\\r\\n                    </div>\\r\\n                    <div class=\\\"popup-footer\\\">\\r\\n                        <div class=\\\"form-footer\\\">\\r\\n                            <div class=\\\"cancel\\\">cancel</div>\\r\\n                            <input type=\\\"submit\\\" class=\\\"save\\\" value=\\\"save\\\" />\\r\\n                        </div>\\r\\n                        <div class=\\\"failed\\\">oops! adding failed</div>\\r\\n                        <div class=\\\"added\\\">added successfully!</div>\\r\\n                        <div class=\\\"adding\\\">\\r\\n                            adding...\\r\\n                            <div class=\\\"cd-loading\\\"></div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </form>\\r\\n            </div>\\r\\n            <!-- 2nd popup -->\\r\\n            <div class=\\\"chapters-list-popup hidden\\\">\\r\\n                <div class=\\\"popup-title camel-case\\\">choose chapters to add</div>\\r\\n                <div class=\\\"back trigger-inplace-popup\\\" data-hidePopup=\\\"chapters-list-popup\\\" data-showPopup=\\\"chapters-popup-landing\\\"></div>\\r\\n                <div class=\\\"content-block\\\">\\r\\n                    <ul id=\\\"chapters-list-wrap\\\" class=\\\"sitemap-tree\\\">\\r\\n                        <img class=\\\"loading-icon\\\" src=\\\"/static/images/loading_icon.gif\\\" />\\r\\n                    </ul>\\r\\n                </div>\\r\\n                <div class=\\\"popup-footer\\\">\\r\\n                    <div class=\\\"form-footer\\\">\\r\\n                        <div class=\\\"backbtn rippleEffect trigger-inplace-popup\\\" data-hidePopup=\\\"chapters-list-popup\\\" data-showPopup=\\\"chapters-popup-landing\\\">cancel</div>\\r\\n                        <div class=\\\"save\\\" data-hidePopup=\\\"chapters-list-popup\\\" data-showPopup=\\\"chapters-popup-landing\\\">choose</div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- CTA Popup -->\\r\\n        <div class=\\\"popup-box add-journeys-cta-popup\\\">\\r\\n            <div class=\\\"camel-case popup-title\\\">\\r\\n                <span class=\\\"form-action-type\\\">add</span> CTA button\\r\\n            </div>\\r\\n            <form name=\\\"journey-cta\\\" class=\\\"journey-cta\\\">\\r\\n                <div class=\\\"popup-info\\\">\\r\\n                    <label>\\r\\n                        <span class=\\\"mandatory-field uppercase\\\">add a call-to-action button</span>\\r\\n                    </label>\\r\\n                    <p>Add a custom CTA button to be displayed in the bottom corner of this journey. Choose the text to be displayed and website link to redirect your use to.</p>\\r\\n                    <div class=\\\"blocks\\\">\\r\\n                        <div class=\\\"cta-input-wrap\\\">\\r\\n                            <input id=\\\"journey-cta-btn\\\" name=\\\"journey-cta-btn\\\" type=\\\"text\\\" placeholder=\\\"Button Text\\\" maxlength=\\\"25\\\" autocomplete=\\\"off\\\">\\r\\n                        </div>\\r\\n                        </br>\\r\\n                        <div class=\\\"cta-input-wrap\\\">\\r\\n                            <input id=\\\"journey-cta-link\\\" class=\\\"trim-input\\\" autocomplete=\\\"off\\\" name=\\\"journey-cta-link\\\" type=\\\"url\\\" placeholder=\\\"http://\\\">\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"popup-footer\\\">\\r\\n                    <div class=\\\"form-footer\\\">\\r\\n                        <div class=\\\"cancel\\\">cancel</div>\\r\\n                        <input type=\\\"button\\\" class=\\\"save\\\" value=\\\"save\\\">\\r\\n                    </div>\\r\\n                    <div class=\\\"failed\\\">oops! saving failed</div>\\r\\n                    <div class=\\\"added\\\">saved successfully!</div>\\r\\n                    <div class=\\\"adding\\\">saving...<div class=\\\"cd-loading\\\"></div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </form>\\r\\n        </div>\\r\\n        <!-- Confirm publish -->\\r\\n        <div class=\\\"popup-box confirm-publish-journey\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">\\r\\n                \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"publish changes\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":110,\"column\":16},\"end\":{\"line\":110,\"column\":42}}}))\n    + \"\\r\\n            </div>\\r\\n            <div class=\\\"popup-info sub-title text-center\\\">\\r\\n                <p class=\\\"sub-title\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"you've made some cool stuff!\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":113,\"column\":37},\"end\":{\"line\":113,\"column\":76}}}))\n    + \"</p><br>\\r\\n                <p class=\\\"sub-title\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"are you sure you want to take your work live?\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":114,\"column\":37},\"end\":{\"line\":114,\"column\":93}}}))\n    + \"</p>\\r\\n            </div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel\\\" rel=\\\"confirm-publish-journey\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"cancel\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":118,\"column\":70},\"end\":{\"line\":118,\"column\":87}}}))\n    + \"</div>\\r\\n                    <div class=\\\"confirm-publish\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"publish\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":119,\"column\":49},\"end\":{\"line\":119,\"column\":67}}}))\n    + \"</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-failed failed\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"oops! your work was not saved\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":122,\"column\":20},\"end\":{\"line\":122,\"column\":60}}}))\n    + \".\\r\\n                </div>\\r\\n                <div class=\\\"form-sent added\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"success! your work has successfully been published\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":125,\"column\":20},\"end\":{\"line\":125,\"column\":81}}}))\n    + \".\\r\\n                </div>\\r\\n                <div class=\\\"form-failed no-content\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"Please add at least one chapter to publish journey\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":128,\"column\":20},\"end\":{\"line\":128,\"column\":81}}}))\n    + \".\\r\\n                </div>\\r\\n                <div class=\\\"form-sending adding\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"publishing\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":131,\"column\":20},\"end\":{\"line\":131,\"column\":41}}}))\n    + \"...\\r\\n                    <div class=\\\"cd-loading\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- Enable Journey -->\\r\\n        <div class=\\\"popup-box enable-journey\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">Enable Journey</div>\\r\\n            <div class=\\\"popup-info text-center\\\">\\r\\n                <p class=\\\"sub-title\\\">This Journey will be visible to your viewers</p><br>\\r\\n                <p class=\\\"sub-title\\\">Are you sure you want to enable this Journey?</p>\\r\\n            </div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel rippleEffect\\\" rel=\\\"enable-journey\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"cancel\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":145,\"column\":74},\"end\":{\"line\":145,\"column\":91}}}))\n    + \"</div>\\r\\n                    <div class=\\\"enable rippleEffect\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"enable\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":146,\"column\":53},\"end\":{\"line\":146,\"column\":70}}}))\n    + \"</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-failed failed\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"oops! your submission was not sent\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":149,\"column\":20},\"end\":{\"line\":149,\"column\":65}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sent added\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"enabled successfully!\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":152,\"column\":20},\"end\":{\"line\":152,\"column\":52}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sending adding\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"enabling\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":155,\"column\":20},\"end\":{\"line\":155,\"column\":39}}}))\n    + \"...\\r\\n                    <div class=\\\"cd-loading\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- Disable Journey -->\\r\\n        <div class=\\\"popup-box disable-journey\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">Disable Journey</div>\\r\\n            <div class=\\\"popup-info text-center\\\">\\r\\n                <p class=\\\"sub-title\\\">This Journey will not be visible to your viewers.</p><br>\\r\\n                <p class=\\\"sub-title\\\">Are you sure you want to disable this Journey?</p>\\r\\n            </div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel rippleEffect\\\" rel=\\\"disable-journey\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"cancel\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":169,\"column\":75},\"end\":{\"line\":169,\"column\":92}}}))\n    + \"</div>\\r\\n                    <div class=\\\"disable rippleEffect\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"disable\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":170,\"column\":54},\"end\":{\"line\":170,\"column\":72}}}))\n    + \"</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-failed failed\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"oops! your submission was not sent\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":173,\"column\":20},\"end\":{\"line\":173,\"column\":65}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sent added\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"disabled successfully!\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":176,\"column\":20},\"end\":{\"line\":176,\"column\":53}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sending adding\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"disabling\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":179,\"column\":20},\"end\":{\"line\":179,\"column\":40}}}))\n    + \"...\\r\\n                    <div class=\\\"cd-loading\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!-- Delete chapter popup -->\\r\\n        <div class=\\\"popup-box delete-journey-popup\\\">\\r\\n            <div class=\\\"popup-title capital-letter\\\">\\r\\n                    Delete Journey\\r\\n            </div>\\r\\n            <div class=\\\"popup-info sub-title text-center\\\">\\r\\n                <p>You've made some cool stuff!</p></br>\\r\\n                <p>Are you sure you want to delete this Journey?'</p>\\r\\n            </div>\\r\\n            <div class=\\\"popup-footer\\\">\\r\\n                <div class=\\\"form-footer\\\">\\r\\n                    <div class=\\\"cancel rippleEffect capital-letter\\\" rel=\\\"delete-journey-popup\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"cancel\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":195,\"column\":95},\"end\":{\"line\":195,\"column\":112}}}))\n    + \"</div>\\r\\n                    <div class=\\\"delete rippleEffect capital-letter\\\">\"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"delete\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":196,\"column\":68},\"end\":{\"line\":196,\"column\":85}}}))\n    + \"</div>\\r\\n                </div>\\r\\n                <div class=\\\"form-failed capital-letter failed\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"oops! your submission was not sent\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":199,\"column\":20},\"end\":{\"line\":199,\"column\":65}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sent capital-letter added\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"deleted successfully!\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":202,\"column\":20},\"end\":{\"line\":202,\"column\":52}}}))\n    + \"\\r\\n                </div>\\r\\n                <div class=\\\"form-sending capital-letter adding\\\">\\r\\n                    \"\n    + alias2(__default(require(\"/docker/sharedemos/static/js/helpers/handlebars/i18n.js\")).call(alias1,\"deleting\",{\"name\":\"i18n\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":205,\"column\":20},\"end\":{\"line\":205,\"column\":39}}}))\n    + \"...\\r\\n                    <div class=\\\"cd-loading\\\"></div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <!--End of Delete Chapter popup -->\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"sitemap-item \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":28},\"end\":{\"line\":2,\"column\":60}}})) != null ? stack1 : \"\")\n    + \"\\\" data-item=\\\"category\\\" data-slug=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" data-groups=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"groups\") : depth0), depth0))\n    + \"\\\" data-name=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\n        <div style=\\\"margin-left:10px\\\" class=\\\"parentblock\\\">\\n            <span class=\\\"expandSection\\\"></span>\\n            <span class=\\\"siteMapTitle\\\">\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>     \\n        </div>\\n\\n        <ul class=\\\"category\\\" id=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" style=\\\"display: none;\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"children\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(4, data, 0),\"inverse\":container.program(6, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":12},\"end\":{\"line\":15,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul>\\n    </li>\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/site-map/render-sections.handlebars\"),depth0,{\"name\":\"render-sections\",\"data\":data,\"indent\":\"                \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"playlists\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(7, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":16},\"end\":{\"line\":14,\"column\":25}}})) != null ? stack1 : \"\");\n},\"7\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/site-map/render-playlists.handlebars\"),depth0,{\"name\":\"render-playlists\",\"data\":data,\"indent\":\"                    \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"siteMapData\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":18,\"column\":9}}})) != null ? stack1 : \"\");\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"disabled\";\n},\"3\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, alias4=container.hooks.helperMissing, alias5=\"function\", lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"            <li class=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":23},\"end\":{\"line\":8,\"column\":55}}})) != null ? stack1 : \"\")\n    + \"\\\" data-item=\\\"chapter\\\" data-id=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"walkthrough_id\") : depth0), depth0))\n    + \"\\\" data-slug=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" data-groups=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"groups\") : depth0), depth0))\n    + \"\\\" data-name=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\n                <div style=\\\"margin-left:10px\\\" class=\\\"parentblock\\\">\\n                    <span class=\\\"demoIcon\\\"></span>\\n                    <span class=\\\"siteMapTitle\\\">\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":47},\"end\":{\"line\":11,\"column\":55}}}) : helper)))\n    + \"</span>\\n                <input id=\\\"tree-\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"slug\") || (depth0 != null ? lookupProperty(depth0,\"slug\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":32},\"end\":{\"line\":12,\"column\":40}}}) : helper)))\n    + \"\\\" slug-id=\\\"\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"slug\") || (depth0 != null ? lookupProperty(depth0,\"slug\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":51},\"end\":{\"line\":12,\"column\":59}}}) : helper)))\n    + \"\\\" type=\\\"checkbox\\\" \"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"is_selected\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(4, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":77},\"end\":{\"line\":12,\"column\":112}}})) != null ? stack1 : \"\")\n    + \"class=\\\"css-checkbox\\\">\\n                <label for=\\\"tree-\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"slug\") || (depth0 != null ? lookupProperty(depth0,\"slug\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":33},\"end\":{\"line\":13,\"column\":41}}}) : helper)))\n    + \"\\\" class=\\\"css-label\\\"></label>\\n                </div>\\n                <ul class=\\\"demo\\\" id=\\\"\"\n    + alias3(alias2((depths[2] != null ? lookupProperty(depths[2],\"slug\") : depths[2]), depth0))\n    + \"_\"\n    + alias3(((helper = (helper = lookupProperty(helpers,\"slug\") || (depth0 != null ? lookupProperty(depth0,\"slug\") : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias1,{\"name\":\"slug\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":52},\"end\":{\"line\":15,\"column\":60}}}) : helper)))\n    + \"\\\"></ul>\\n            </li>\\n\";\n},\"4\":function(container,depth0,helpers,partials,data) {\n    return \" checked \";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data,blockParams,depths) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li data-item=\\\"playlist\\\" class=\\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":32},\"end\":{\"line\":1,\"column\":64}}})) != null ? stack1 : \"\")\n    + \"\\\" data-slug=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"playlist_id\") || (depth0 != null ? lookupProperty(depth0,\"playlist_id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"playlist_id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":77},\"end\":{\"line\":1,\"column\":92}}}) : helper)))\n    + \"\\\" data-groups=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"groups\") || (depth0 != null ? lookupProperty(depth0,\"groups\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"groups\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":107},\"end\":{\"line\":1,\"column\":117}}}) : helper)))\n    + \"\\\" data-name=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":130},\"end\":{\"line\":1,\"column\":138}}}) : helper)))\n    + \"\\\">\\n    <div style=\\\"margin-left:10px\\\" class=\\\"parentblock\\\">\\n        <span class=\\\"playlistIcon\\\"></span>\\n        <span class=\\\"siteMapTitle\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":35},\"end\":{\"line\":4,\"column\":43}}}) : helper)))\n    + \"</span>\\n    </div>\\n    <ul class=\\\"playlist\\\" id=\\\"\"\n    + alias4(container.lambda((depths[1] != null ? lookupProperty(depths[1],\"slug\") : depths[1]), depth0))\n    + \"_\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"playlist_id\") || (depth0 != null ? lookupProperty(depth0,\"playlist_id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"playlist_id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":56}}}) : helper)))\n    + \"\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"demos\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(3, data, 0, blockParams, depths),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":8},\"end\":{\"line\":17,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</li>\";\n},\"useData\":true,\"useDepths\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \" disabled \";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/site-map/render-sections.handlebars\"),depth0,{\"name\":\"render-sections\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"5\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"playlists\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(6, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":13,\"column\":21}}})) != null ? stack1 : \"\");\n},\"6\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/site-map/render-playlists.handlebars\"),depth0,{\"name\":\"render-playlists\",\"data\":data,\"indent\":\"                \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.lambda, alias3=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class = \\\"\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"disabled\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":13},\"end\":{\"line\":1,\"column\":47}}})) != null ? stack1 : \"\")\n    + \"\\\" data-item=\\\"section\\\" data-slug=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" data-groups=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"groups\") : depth0), depth0))\n    + \"\\\" data-name=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\n    <div style=\\\"margin-left:10px\\\" class=\\\"parentblock\\\">\\n        <span class=\\\"expandSection\\\"></span>\\n        <span class=\\\"siteMapTitle\\\">\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</span>\\n    </div>\\n\\n    <ul class=\\\"section\\\" id=\\\"\"\n    + alias3(alias2((depth0 != null ? lookupProperty(depth0,\"slug\") : depth0), depth0))\n    + \"\\\" style=\\\"display: none;\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"children\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(3, data, 0),\"inverse\":container.program(5, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":8},\"end\":{\"line\":14,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\n</li>\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":37},\"end\":{\"line\":3,\"column\":45}}}) : helper)));\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return container.escapeExpression(container.lambda(depth0, depth0));\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"tag-wrap\\\">\\n    <div class=\\\"col-xs-10\\\">\\n        <div class=\\\"tag\\\">\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"name\") : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":25},\"end\":{\"line\":3,\"column\":68}}})) != null ? stack1 : \"\")\n    + \"</div>\\n    </div>\\n    <div class=\\\"col-xs-2  journey-delete-tag\\\">\\n        <img src=\\\"/static/images/icon-delete3.png\\\">\\n    </div>        \\n</div> \";\n},\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = container.invokePartial(require(\"/docker/sharedemos/static/js/apps/journeys/templates/tag_options.handlebars\"),depth0,{\"name\":\"tag_options\",\"data\":data,\"indent\":\"            \",\"helpers\":helpers,\"partials\":partials,\"decorators\":container.decorators})) != null ? stack1 : \"\");\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"journey-tag-group row\\\">\\n    <div class=\\\"col-xs-4\\\">\\n        <input type=\\\"text\\\" placeholder=\\\"Key values\\\" name=\\\"keyvalues\\\" class=\\\"form-control\\n        tags-autoComplete\\\" autocomplete=\\\"off\\\" value=\\\"\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\">\\n    </div> \\n                                \\n    <div class=\\\"col-xs-8\\\">\\n        <div class=\\\"tag-collections\\\">\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"options\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":8},\"end\":{\"line\":11,\"column\":17}}})) != null ? stack1 : \"\")\n    + \"        </div>\\n        <input type=\\\"text\\\" placeholder=\\\"Input\\\" name=\\\"tag\\\" class=\\\"form-control tag-input options-autoComplete\\\" autocomplete=\\\"off\\\">\\n        <button type=\\\"button\\\" class=\\\"journey-create-tag btn\\\">add tag</button>\\n        <button type=\\\"button\\\" class=\\\"delete-tag-group btn\\\">delete group</button>\\n    </div>\\n</div>\\n\";\n},\"usePartial\":true,\"useData\":true});","var Handlebars = require(\"/docker/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"welcome_msg journey-wrap\\\" >\\r\\n    <div class=\\\"welcome_txt\\\">\\r\\n        <h1>Welcome to Journeys</h1>\\r\\n        <p>Group content that exists in your library to create meaningful journeys.</p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});","/*global define*/\r\ndefine([\r\n    'jquery',\r\n    'underscore',\r\n    'backbone',\r\n    '../../../tenant/common',\r\n    '../models/journeys',\r\n    '../models/tags_options',\r\n    '../../../tenant/models/product-tree',\r\n    '../templates/welcome.handlebars',\r\n    '../templates/create_journeys.handlebars',\r\n    '../templates/list_journeys.handlebars',\r\n    '../templates/journey_assets.handlebars',\r\n    '../templates/popups.handlebars',\r\n    '../templates/tags.handlebars',\r\n    '../templates/tag_options.handlebars',\r\n    '../templates/site-map/main.handlebars',\r\n    'airDatepicker',\r\n    'airDatepickerEn',\r\n], function ($, _, Backbone, Common, Journeys, TagsOptions, ProductTree, welcomeTemplate, createJourneysTemplate, listJourneysTemplate, journeyAssetsTemplate, popupsTemplate, tagTemplate, tagOptionsTemplate, journeySiteMapTemplate) {\r\n    'use strict';\r\n\r\n    var EditView = Backbone.View.extend({\r\n\r\n        selectedJourneySlug: null, // this variable is used to trak current journey selection\r\n        SITE_MAP_DATA: null,\r\n        journeyTags: [],\r\n        journeyTagOptions: [],\r\n\r\n        el: '#main_container',\r\n        template: popupsTemplate,\r\n    \tevents: {\r\n            \"click .create-new.journeys, .work-area.journeys .edit-journey-btn\": \"createJourneyPopup\",\r\n            \"click .close_full_popup\": \"closeJourneyPopup\",\r\n            \"click .trigger-inplace-popup\": \"replacePopup\",\r\n            \"mouseenter .journey-hidden-actions\": \"toggleJourneyActions\",\r\n            \"mouseleave .journey-hidden-actions\": \"toggleJourneyActions\",\r\n\r\n            // New/Edit Journey\r\n            \"submit form[name=create-journeys-form]\": \"saveJourney\",\r\n            \"keyup #create-journeys-form input\": \"validateJourney\",\r\n            \"click .journey-tabs [data-tab]\": 'toggleEditTabs',\r\n            \"click .journey-create-tag\": 'createTag',\r\n            \"click .journey-delete-tag\": 'deleteTag',\r\n            \"click .delete-tag-group\": 'deleteTagGroup',\r\n            \"click .journey-create-tag-group\": 'createTagGroup',\r\n\r\n            // upload journey cover\r\n            \"change .journeys-cover-btn\": \"uploadJourneyCover\",\r\n            \r\n            // privacy options events\r\n            \"click .journeys-privacy-btn\": \"toggleJourneyPrivacyList\",\r\n            \"click #create-journeys-form .journeys-privacy-opt li:not('.is-author')\": \"togglePrivacyOption\",\r\n\r\n            // chapters event\r\n            \"click .add-chapters-to-journeys\": \"showAddChaptersToJourneysPopup\",\r\n            \"click .browser-chapters\": \"browserChapters\",\r\n            \"click .add-journey-chapters-popup .cancel\": \"hideAddChaptersToJourneysPopup\",\r\n            \"click #chapters-list-wrap .expandSection\": \"toogleSitMapSections\",\r\n            \"click form[name=save-assets] .save\": \"saveAssetsDetails\",\r\n            \"click .remove-journey-link\": \"removeAsset\",\r\n            \"change #chapters-list-wrap .css-checkbox\": \"updateChooseChapterButtonText\",\r\n            'click .chapters-list-popup .save':'addInternalLink',\r\n\r\n            // CTA events\r\n            \"click .add-cta-to-journeys\": \"showAddCTAToJourneysPopup\",\r\n            \"click .add-journeys-cta-popup .cancel\": \"hideAddCTAToJourneysPopup\",\r\n            \"click form[name=journey-cta] .save\": \"saveCTADetails\",\r\n            \"keyup input[type=url]\": \"updateUrl\",\r\n\r\n            // Publish, Disable, Enable, Delete Journey\r\n            \"click .publish-journey\": \"showPublishJourneyPopup\",\r\n            \"click .confirm-publish-journey .confirm-publish\": \"confirmPublishJourney\",\r\n            \"click .confirm-publish-journey .cancel\": function() { this.closePopup('confirm-publish-journey') },\r\n            \"click .change-journey-status\": \"showEnableDisableJourneyPopup\",\r\n            \"click .disable-journey .cancel\": function() { this.closePopup('disable-journey') },\r\n            \"click .enable-journey .cancel\": function() { this.closePopup('enable-journey') },\r\n            \"click .disable-journey .disable, .enable-journey .enable\": \"enableDisableJourney\",\r\n            \"click .delete-journey\": \"showDeleteJourneyPopup\",\r\n            \"click .delete-journey-popup .delete\": \"deleteJourney\",\r\n            \"click .delete-journey-popup .cancel\": function() { this.closePopup('delete-journey-popup') },\r\n        \r\n            // language warning\r\n            \"click .create-warning .cancel\": \"closeLanguageWarningPopup\",\r\n\r\n            // error popup\r\n            \"click .failed-case .cancel\": function() { this.closePopup('failed-case') },\r\n        },\r\n        \r\n        initialize() {\r\n            this.listAllJourneys();\r\n            this.renderPopupTemplate();\r\n        },\r\n\r\n        getTagsAndOptions() {\r\n            let tagsOptions = new TagsOptions();\r\n            let root = this;\r\n            tagsOptions.fetch({\r\n                success(model, response) {\r\n                    root.journeyTags = response.tags;\r\n                    root.journeyTagOptions = response.options;\r\n                    root.initAutoComplete();\r\n                },\r\n                error(status, error) {\r\n                    console.log(error.statusText)\r\n                }\r\n            });\r\n        },\r\n        renderPopupTemplate() {\r\n            this.$('#dashboard-popups').html(this.template());\r\n        },\r\n        \r\n        /**\r\n        * 'End of life' air-datepicker initializer.\r\n        */\r\n        initEolDatePicker: function(element){\r\n            element.datepicker({\r\n                language: 'en',\r\n                dateFormat: \"yyyy-mm-dd\",\r\n                minDate: new Date(),\r\n                timeFormat: 'hh:ii aa',\r\n                autoClose: true,\r\n                clearButton: true,\r\n                timepicker: true,\r\n                onSelect: (selectedDate, date, inst) => {\r\n                    this.$(inst.el).data('datetime', \"\");\r\n                    if(date) {\r\n                        // Set the datetime in the format - 'yyyy-mm-ddThh:mm'.\r\n                        this.$(inst.el).data('datetime', date.toISOString().slice(0, 16))\r\n                    }\r\n                },\r\n            });\r\n        },\r\n\r\n        toggleEditTabs(event) {\r\n            let selectedTab = this.$(event.currentTarget).data('tab');\r\n            this.$('[data-tab]').removeClass('active');\r\n            this.$(`[data-tab=${selectedTab}]`).addClass('active');\r\n        },\r\n\r\n        createTagGroup(){\r\n            this.$('.journey-tagging .journey-tag-groups-wrap').append(tagTemplate());\r\n            this.$('.delete-tag-group').removeClass('disabled');\r\n\t    this.initAutoComplete();        \r\n\t},\r\n\r\n        createTag(event){\r\n            var name = this.$(event.currentTarget).parent().find('.tag-input').val();\r\n            if (name.length <= 2) {\r\n                this.$(event.currentTarget).parent().find('.tag-input').addClass('error');\r\n                this.$(event.currentTarget).parents('form').find('[type=\"submit\"]').attr('disabled', 'disabled');\r\n                return;\r\n            }\r\n            this.$(event.currentTarget).parent().find('.tag-input').val('').removeClass('error');\r\n            let attr = {};\r\n            attr.name = name;\r\n            this.$(event.currentTarget).parents('.journey-tag-group').find(\".tag-collections\").append(tagOptionsTemplate(attr));\r\n\t    this.initAutoComplete()        \r\n \t},\r\n        \r\n        deleteTag(event){\r\n            this.$(event.currentTarget).parent().remove()\r\n        },\r\n\r\n        deleteTagGroup(event){\r\n            if($('.journey-tag-group').length == 1) {\r\n                this.$(event.currentTarget).addClass('disabled');\r\n                return;\r\n            }\r\n            this.$(event.currentTarget).parent().parent().remove()\r\n        },\r\n\r\n        listAllJourneys() {\r\n            let journeys = new Journeys();\r\n            this.$('.journeys-list-wrap').empty();\r\n            let root = this;\r\n            journeys.fetch({\r\n                success(model, response) {\r\n                    if(!response.length) {\r\n                        root.$('.journeys-list-wrap').html(welcomeTemplate());\r\n                        return;\r\n                    }\r\n                    _.each(response, (journey) => {\r\n                        if (journey.icon_path) {\r\n                            journey.icon_path = Common.DEFAULT_MEDIA_PATH + journey.icon_path\r\n                        }\r\n                        journey.user_groups = journey.restricted_to_group_details\r\n                        journey.isPrivateTenant = document.isPrivateTenant;\r\n                        root.$('.journeys-list-wrap').append(listJourneysTemplate(journey));\r\n                    });\r\n                    root.initializeJourneySortable();\r\n                },\r\n                error(model, response){\r\n                    console.log(response.statusText);\r\n                }\r\n            });\r\n        },\r\n\r\n        initializeJourneySortable(){\r\n            var root = this\r\n            this.$(\".journeys-list-wrap\").sortable({\r\n                placeholder: 'highlight',\r\n                handle: \".journey-drag\",\r\n                forcePlaceholderSize: true,\r\n                containment: \"parent\",\r\n\r\n                update : function(event, ui) {\r\n                    let journey = new Journeys({\r\n                        \"id\": ui.item.data(\"journey-slug\"),                        \r\n                        \"afterJourneySlug\": ui.item.prev().data(\"journey-slug\"),\r\n                        \"reorder\": true,\r\n                    });\r\n                    journey.save(null, {\r\n                        patch: true,\r\n                        success: function(){\r\n                            root.$(\".journeys-list-wrap\").sortable(\"refresh\");\r\n                        }, error: function(xhr, status_code, message){\r\n                            root.showPopup('failed-case');\r\n                            let errorMessage = \"Reorder failed, please try agin\";\r\n                            root.$('.failed-case .popup-info').text(errorMessage);\r\n                            root.$(\".journeys-list-wrap\").sortable(\"cancel\");\r\n                        }\r\n                    })\r\n                }\r\n            });\r\n        },\r\n        createJourneyPopup(e) {\r\n            if($(e.currentTarget).hasClass('create-new') \r\n                && document.defaultLocaleID !== SDCookies.getItem('author_locale')) {\r\n                return this.switchLanguageWarning();\r\n            }\r\n\r\n            let attr = {\r\n                isPrivateTenant: document.isPrivateTenant,\r\n                add_journey: true,\r\n                isEdit: false,\r\n                user_groups: JSON.parse(JSON.stringify(document.user_groups))\r\n            };\r\n            var expireAt;\r\n            // Retrive particular journey details only on edit\r\n            let ele = $(e.currentTarget);\r\n            if(ele.hasClass('edit-journey-btn')) {\r\n                attr.isEdit = true\r\n                attr.slug = ele.parents('.journeys-details-wrap').data('journey-slug');\r\n                let journey = new Journeys({id: attr.slug});\r\n                $.when(journey.fetch({\r\n                    async: false,\r\n                    processData: true\r\n                })).done(function(response, status, xhr){\r\n                    attr.journeyName= response.name;\r\n                    attr.description = response.description;\r\n                    attr.tags = response.tags;\r\n                    if(response.expire_at){\r\n                        expireAt = new Date(response.expire_at);\r\n                        attr.expireAt = expireAt.toISOString().slice(0, 16);\r\n                    }\r\n                });\r\n                let selectedGroupIds = [];\r\n                ele.parents('.journeys-details-wrap').find('.journeys-privacy-opt li').each(function() {\r\n                    selectedGroupIds.push($(this).data('group-id'))\r\n                });\r\n                _.each(attr.user_groups, (group) =>{\r\n                    group.is_default = false;\r\n                    if(selectedGroupIds.includes(group._id))\r\n                        group.is_selected = true\r\n                })\r\n            }\r\n            this.$(\".create-journeys-wrap\").html(createJourneysTemplate(attr));\r\n            \r\n            // initializing the air datepicker\r\n            this.initEolDatePicker(this.$('#journey_expire_at'));\r\n            if(expireAt) {\r\n                this.$('#journey_expire_at')\r\n                        .val(expireAt.toLocaleString({},{'hour12': true})\r\n                        .replace(/\\//g, '-'));\r\n            }\r\n            \r\n            this.updateSelectedGroupsInfo();\r\n            var popupName = $(e.currentTarget).data('form-name');\r\n            $('body').addClass('fixedHeight');\r\n            this.$('.full_popup_block, .'+popupName).addClass('active');\r\n            this.$(`.${popupName}, .full_popup_overlay`).addClass('animated slideInUp');\r\n            setTimeout(() => {\r\n                this.$(`.${popupName}, .full_popup_overlay`).removeClass('animated slideInUp');\r\n            },500);\r\n            this.getTagsAndOptions();\r\n        },\r\n\r\n        updateSelectedGroupsInfo() {\r\n            let selectedGroupsElem = this.$('#create-journeys-form .journeys-privacy-opt li.selected');\r\n            let selectedGroupsTitle = Array.from(selectedGroupsElem, group => group.innerText);\r\n            this.$('#create-journeys-form .journeys-privacy-btn').text(selectedGroupsTitle.join(', '));\r\n        },\r\n\r\n        validateJourney(e) {\r\n            var formID = $(e.currentTarget).parents('form').attr('id');\r\n            var fieldName = e.currentTarget;\r\n            var fieldValue = fieldName.value;\r\n            if(!fieldValue || fieldValue == '') {\r\n                $(e.currentTarget).addClass('error')\r\n                $('#'+formID+' input[type=submit]').attr('disabled', 'disabled');\r\n            }\r\n            else {\r\n                $(e.currentTarget).removeClass('error');\r\n                $('#'+formID+' input[type=submit]').removeAttr('disabled');\r\n            }\r\n        },\r\n\r\n        // Create or Edit Journey on submit\r\n        saveJourney(e) {\r\n            e.preventDefault();\r\n            let showError = false;\r\n            const currentFormName = $(e.currentTarget).attr('name');\r\n            const formName = \"form[name=\" + currentFormName + \"]\"; \r\n            const journeyName = $(formName + \" input[name='name']\");\r\n            const journeyDescription = $(formName + \" textarea[name='description']\");\r\n            let selectedGroupIds = [];\r\n            let tags = [];\r\n            let expire_at = this.$('#journey_expire_at');\r\n\r\n            if (document.isPrivateTenant && document.user_groups.length) {\r\n                _.each($('#create-journeys-form .journeys-privacy-opt li.selected'), elem => {\r\n                    selectedGroupIds.push($(elem).data('group-id'));\r\n                });\r\n                if (!selectedGroupIds.length) {\r\n                    this.customErrorMessage(\r\n                        'Select atleast one privacy type',\r\n                        $('.journeys-privacy-list').parent());\r\n                    showError = true;\r\n                }\r\n            }\r\n            \r\n            if (!journeyName.val()) {\r\n                this.customErrorMessage('Provide a Journey Name', $(journeyName).parent(), $(journeyName));\r\n                showError = true;\r\n                this.$('[data-tab]').removeClass('active');\r\n                this.$('[data-tab=\"information\"]').addClass('active');\r\n            }        \r\n\r\n            _.each($('.journey-tag-group'), elem => {\r\n                let name  = $(elem).find('[name=\"keyvalues\"]').val();\r\n                if (name.length <= 2) {\r\n                    showError = true;\r\n                    $(elem).find('[name=\"keyvalues\"]').addClass('error');\r\n                    this.$('[data-tab]').removeClass('active');\r\n                    this.$('[data-tab=\"tags\"]').addClass('active');\r\n                }\r\n                let options = [];\r\n                _.each($(elem).find('.tag-collections .tag-wrap .tag'), (tag) => {\r\n                    let name = $(tag).text();                                \r\n                    options.push(name.toLowerCase());\r\n                });\r\n                if (options.length <= 0) {\r\n                    showError = true\r\n                    $(elem).find('[name=\"tag\"]').addClass('error');\r\n                    this.$('[data-tab]').removeClass('active');\r\n                    this.$('[data-tab=\"tags\"]').addClass('active');\r\n                }\r\n                var group = {};\r\n                group.name = name.toLowerCase();\r\n                group.options = options;\r\n                tags.push(group);\r\n            })     \r\n            if (showError) return;\r\n            $('.edit-tool-tip').remove();\r\n            let data = {\r\n                \"name\": journeyName.val(),\r\n                \"description\": journeyDescription.val(),\r\n                \"restricted_to_groupids\": selectedGroupIds,\r\n                \"tags\": tags\r\n            }\r\n            if($(e.currentTarget).data('journey-slug')) {\r\n                data.id =  $(e.currentTarget).data('journey-slug');\r\n            }\r\n            if(expire_at.val()) data.expire_at = expire_at.data('datetime') || null;\r\n\r\n            // Creating/editing journey action in progress\r\n            let submitElem = $(e.currentTarget).find('input:submit');\r\n            submitElem.val('Submitting...');\r\n            // Submit success\r\n            let journey = new Journeys(data)\r\n            var root = this;\r\n            journey.save(null, {\r\n                success(model, response){\r\n                    if(response){\r\n                        root.$('.create_journeys').find('input:submit').val('Success!');\r\n                        root.listAllJourneys();\r\n                        setTimeout(function() {\r\n                            root.closeJourneyPopup('create_journeys')\r\n                            return;\r\n                        }, 500);\r\n                    }\r\n                }, error(model, response, xhr){\r\n                    console.log(response.statusText);\r\n                }\r\n            });\r\n        },\r\n\r\n        uploadJourneyCover(e) {\r\n            let target = e.currentTarget;\r\n            let file = target.files[0];\r\n            if (!file || !file.type.startsWith('image/')){ return }\r\n            const img = document.createElement(\"img\");\r\n            img.classList.add(\"journey-cover\");\r\n            $(target).next().empty();\r\n            $(target).next().append(img);\r\n            const reader = new FileReader();\r\n            reader.onload = (function(aImg) { return function(e) { aImg.src = e.target.result; }; })(img);\r\n            reader.readAsDataURL(file);\r\n\r\n            var iconData = new FormData();\r\n            iconData.append('icon', file)\r\n            iconData.append('name', $(target).attr(\"id\"))\r\n            var journey = new Journeys({\"id\": $(target).attr(\"id\")})\r\n\r\n            journey.save(iconData, {\r\n                processData: false,\r\n                cache: false,\r\n                contentType: false,\r\n                patch: true,\r\n                data: iconData,\r\n                success(response){\r\n                    console.log(\"Icon uploaded successfully\");\r\n                },\r\n                error(xhr, status_code, error_message){\r\n                    console.log(error_message);\r\n                }\r\n            })\r\n        },\r\n\r\n        /**\r\n         * Close Full Page Popup:\r\n         * This function can be triggered on click or direct call by passing a popup name as attribue\r\n         * Hence 'e' can be both event or popup name as string\r\n         */\r\n        closeJourneyPopup(e) {\r\n            let popupName = (e.type != undefined) ? $(e.currentTarget).data('popup') : e;\r\n            this.$('.'+popupName+', .full_popup_overlay').addClass('animated slideOutDown');\r\n            setTimeout(function(){\r\n                this.$('.'+popupName+', .full_popup_overlay').removeClass('animated slideOutDown');\r\n                this.$(\".create-journeys-wrap\").empty()\r\n            },500);\r\n            $('body').removeClass('fixedHeight');\r\n        },\r\n\r\n        toggleJourneyPrivacyList(e) {\r\n            this.$(e.currentTarget).toggleClass('active');\r\n            this.$(e.currentTarget).siblings('.journeys-privacy-opt').toggleClass('hide');\r\n        },\r\n\r\n        togglePrivacyOption(e) {\r\n            this.$(e.currentTarget).toggleClass('selected');\r\n            this.updateSelectedGroupsInfo();\r\n        },\r\n\r\n        showAddChaptersToJourneysPopup(e) {\r\n            this.$('.journey-assets').empty();\r\n            var journeySlug = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n            this.$('form[name=save-assets] .save, form[name=save-assets] .browser-chapters').attr('id', journeySlug);\r\n\r\n            // fetch journey assets\r\n            let journeyAssets = new Journeys({id: journeySlug});\r\n            let journeyAssetsDetails;\r\n            var root = this;\r\n            $.when(journeyAssets.fetch({\r\n                async: false,\r\n                processData: true\r\n            })).done(function(response, status, xhr){\r\n                journeyAssetsDetails = response.assets;\r\n                root.showPopup('add-journey-chapters-popup');\r\n                if(journeyAssetsDetails.length){\r\n                    root.$('.add-journey-chapters-popup .form-action-type').text(\"edit\");\r\n                }\r\n                _.each(journeyAssetsDetails, (asset) => {\r\n                    asset.breadcrumb = `Home > ${asset.section.slug} > ${asset.slug}`\r\n                    if(asset.product.slug != asset.section.slug) {\r\n                        asset.breadcrumb = `Home > ${asset.product.slug} > ${asset.slug}`\r\n                    }\r\n                });\r\n                root.$('.journey-assets').html(journeyAssetsTemplate(journeyAssetsDetails));\r\n                root.initializeJourneyAssetsSortable();\r\n            });\r\n        },\r\n\r\n        // Journey Asset reorder\r\n        initializeJourneyAssetsSortable(){\r\n            this.$(\".journey-assets\").sortable({\r\n                placeholder: 'highlight',\r\n                handle: \".journey-asset-drag\",\r\n                containment: \"parent\",\r\n            });\r\n        },\r\n\r\n        getSelectedJourneySlug(e) {\r\n            this.selectedJourneySlug =  $(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n            return this.selectedJourneySlug;\r\n        },\r\n\r\n        // Display sitemap tree based on restriction already choosen by user\r\n        browserChapters(e) {\r\n            let selectedGroupIds = [];\r\n            let journeySlug = this.$(e.currentTarget).attr('id');\r\n            this.$('.chapters-list-popup .save').text('choose');\r\n            let selectedGroups = this.$(`.journeys-details-wrap[data-journey-slug=${journeySlug}]`).find('.journeys-privacy-opt li');\r\n            _.each(selectedGroups, group => {\r\n                selectedGroupIds.push(parseInt($(group).data('group-id')));\r\n            });\r\n            Common.fetchSiteMapData()\r\n            .then((data) => {\r\n                let siteMapData = Common.updateSitemapData(data, selectedGroupIds);\r\n                // preselecting the journey assets in tree structure\r\n                let journeyAsset = this.$(\".journey-assets .journey-link-details a\")\r\n                let journeyAssetIds = [];\r\n                _.each(journeyAsset, (asset) => {\r\n                    journeyAssetIds.push($(asset).data(\"id\"));\r\n                })\r\n                this.preSelectJourneyAssets(siteMapData, journeyAssetIds);\r\n\r\n                this.$el.find('#chapters-list-wrap').html(\r\n                    siteMapData.length ? journeySiteMapTemplate({'siteMapData': siteMapData}) :\r\n                    `<div> ${this.NO_RECORDS_TEXT} </div>`\r\n                );\r\n                this.$(\"#chapters-list-wrap .loading-icon\").hide()\r\n            })\r\n            .catch((e) => {\r\n                console.log(e)\r\n                this.$el.find('#chapters-list-wrap').html('<div>Oops! Something went wrong.</div>');\r\n            })\r\n        },\r\n\r\n        preSelectJourneyAssets(siteMapData, journeyAssetIds){\r\n            _.each(siteMapData, (data) => {\r\n                if(data.children && data.children.length){\r\n                    data.children = this.preSelectJourneyAssets(data.children, journeyAssetIds);\r\n                }\r\n                _.each(data.playlists, (playlist) => {\r\n                    _.each(playlist.demos, (chapter) => {\r\n                        if(journeyAssetIds.includes(chapter.walkthrough_id))\r\n                            chapter.is_selected = true;\r\n                    });\r\n                });\r\n            });\r\n            return siteMapData;\r\n        },\r\n\r\n        updateUrl(e){\r\n            var parentBlock = this.$(e.currentTarget).parent('.cta-input-wrap');\r\n            $('.edit-tool-tip').remove();\r\n            if(e.altKey || ([8, 9, 13, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46]).indexOf(e.keyCode) !== -1) return;\r\n            var value = $(e.target).val();\r\n            if(value && value.length && value.length > 4 && value.indexOf('http') !== 0){\r\n                $(e.target).val('https://' + value);\r\n            }\r\n        },\r\n\r\n        saveCTADetails(e) {\r\n            e.preventDefault();\r\n            let showError = false;\r\n            let ctaTitle = this.$('#journey-cta-btn');\r\n            let ctaLink = this.$('#journey-cta-link');\r\n            if(!ctaTitle.val()){\r\n                this.customErrorMessage('Provide a title for the link.', $(ctaTitle).parent(), $(ctaTitle));\r\n                showError = true;\r\n            }\r\n            if(!ctaLink.val()){\r\n                this.customErrorMessage('Provide a title for the link.', $(ctaLink).parent(), $(ctaLink));\r\n                showError = true;\r\n            }\r\n            if (!Common.validateUrl(ctaLink.val())) {\r\n                this.customErrorMessage('Oops! Please enter a valid URL.', $(ctaLink).parent(), $(ctaLink));\r\n                showError = true\r\n            }\r\n            if(showError) {\r\n                return;\r\n            }\r\n            $('.edit-tool-tip').remove();\r\n            let journeySlug = this.$(e.currentTarget).attr('id');\r\n            let journeyName = this.$(e.currentTarget).attr('name');\r\n            let ctaDetails = {\r\n                \"id\": journeySlug,\r\n                \"is_cta\": true,\r\n                \"options\": {\r\n                    \"type\": \"link\",\r\n                    \"cta_text\": ctaTitle.val(),\r\n                    \"cta_link\": ctaLink.val()\r\n                },\r\n                \"name\": journeyName,\r\n                \"slug\": journeySlug\r\n            }\r\n            let journey = new Journeys(ctaDetails);\r\n            this.actionInProgress('add-journeys-cta-popup')\r\n            var root = this;\r\n            journey.save(null, {\r\n                patch: true,\r\n                wait: true,\r\n                success(response){\r\n                    root.actionSuccess('add-journeys-cta-popup', false);\r\n                },\r\n                error(xhr, status_code, error_message){\r\n                    console.log(\"error: \" + error_message);\r\n                }\r\n            });\r\n        },\r\n\r\n        hideAddChaptersToJourneysPopup() {\r\n            this.closePopup('add-journey-chapters-popup');\r\n            this.$('.journey-assets').empty();\r\n        },\r\n\r\n        showAddCTAToJourneysPopup(e) {\r\n            var journeySlug = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n            var journeyName = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-name');\r\n            this.$('form[name=journey-cta] .save').attr({'id': journeySlug, 'name': journeyName});\r\n\r\n            let journeyDetails = new Journeys({id: journeySlug});\r\n            let journeyCTADetails;\r\n            let root = this;\r\n            $.when(journeyDetails.fetch({\r\n                async: false,\r\n                processData: true\r\n            })).done(function(response, status, xhr){\r\n                journeyCTADetails = response.cta_details;\r\n                \r\n                let ctaText = (journeyCTADetails.cta_button !== null) ? journeyCTADetails.cta_button.cta_text : '';\r\n                let ctaLink = (journeyCTADetails.cta_button !== null) ? journeyCTADetails.cta_button.cta_link : '';\r\n                let actionTypeText = (ctaText || ctaLink) ? 'edit' : 'add';\r\n                if(actionTypeText == 'add') {\r\n                    if(document.defaultLocaleID !== SDCookies.getItem('author_locale')) {\r\n                        return root.switchLanguageWarning();\r\n                    }\r\n                }\r\n\r\n                root.$('.add-journeys-cta-popup .form-action-type').text(actionTypeText);\r\n                root.$('form[name=journey-cta] #journey-cta-btn').val(ctaText);\r\n                root.$('form[name=journey-cta] #journey-cta-link').val(ctaLink);\r\n                root.showPopup('add-journeys-cta-popup');\r\n            });\r\n        },\r\n\r\n        hideAddCTAToJourneysPopup() {\r\n            this.closePopup('add-journeys-cta-popup');\r\n        },\r\n\r\n        toogleSitMapSections(e) {\r\n            var icon = this.$(e.currentTarget);\r\n            icon.toggleClass('expanded');\r\n            icon.parent().siblings('ul').toggle();\r\n        },\r\n\r\n        toggleJourneyActions(e) {\r\n            $('.journey-actions-list').addClass('hidden');\r\n            if (e.type == \"mouseenter\") {\r\n                $(e.currentTarget).find('.journey-actions-list').removeClass('hidden');\r\n            }\r\n        },\r\n\r\n        // save all the selected chapters\r\n        saveAssetsDetails(e) {\r\n            e.preventDefault();\r\n            $('.edit-tool-tip').remove();\r\n            var assetsDetails = {};\r\n            assetsDetails.is_asset = true;\r\n            assetsDetails.id = this.$(e.currentTarget).attr('id');\r\n            assetsDetails.asset = [];\r\n            var assets = this.$('.journey-assets li');\r\n            var root = this;\r\n            _.each(assets, function(elem, index){\r\n                let linkElem = root.$(elem).find('.journey-link-url');\r\n                assetsDetails.asset.push({\r\n                    'asset_type': linkElem.data('type'),\r\n                    'asset_id': linkElem.data('id'),\r\n                    'order': index + 1,\r\n                });\r\n            });\r\n            let journey = new Journeys(assetsDetails);\r\n            this.actionInProgress('add-journey-chapters-popup');\r\n            var root = this;\r\n            journey.save(null, {\r\n                patch: true,\r\n                wait: true,\r\n                success(response){\r\n                    root.actionSuccess('add-journey-chapters-popup', false);\r\n                },\r\n                error(xhr, status_code, error_message){\r\n                    console.log(\"error: \" + error_message);\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        // Delete chapter from the journey assets\r\n        removeAsset(e) {\r\n            $(e.currentTarget).parents('.journey-link-data').remove();\r\n        },\r\n\r\n        // update choose button text upon choosing chapters from the sitemap\r\n        updateChooseChapterButtonText(e) {\r\n            let saveElem = this.$('.chapters-list-popup .save');\r\n            let assetsCount = this.$('#chapters-list-wrap .css-checkbox:checked').length;\r\n            if (!(assetsCount)) {\r\n                $(saveElem).text('SAVE').removeClass('assets-selected');\r\n            } else {\r\n                $(saveElem).text(`CHOOSE CHAPTERS(${assetsCount})`).addClass('assets-selected');\r\n            }\r\n        },\r\n\r\n        // choose assets to journey\r\n        addInternalLink(e) {\r\n            var selectedLinks =  this.$('#chapters-list-wrap .css-checkbox:checked');\r\n            if(selectedLinks.length) {\r\n                this.$('.journey-assets').empty();\r\n            }\r\n            let assets = []\r\n            _.each(selectedLinks, (selectedLink)=>{\r\n                assets.push(this.updateInternalLink(selectedLink));\r\n            });  \r\n            this.$('.journey-assets').html(journeyAssetsTemplate(assets));\r\n            this.replacePopup(e);\r\n        },\r\n\r\n        // append selected chapter to the assets lists in view\r\n        updateInternalLink(selectedLink) {\r\n            var selectedElement = selectedLink;\r\n            var link = window.location.origin + \"/t/\";\r\n            var mainListElement = this.$(selectedElement).parents()\r\n                    .closest(\"li[data-slug='\"+ $(selectedElement).attr('slug-id')+\"']\");\r\n            var elementType = mainListElement.attr('data-item');\r\n            if(elementType == 'chapter'){\r\n                link += mainListElement.closest(\"li[data-item='category']\").attr('data-slug') + '/';\r\n\r\n                if(mainListElement.closest(\"li[data-item='section']\").length){\r\n                    link += mainListElement.closest(\"li[data-item='section']\").attr('data-slug') + '/';\r\n                }\r\n            }\r\n            link += mainListElement.attr('data-slug');\r\n            let productSlug = mainListElement.closest(\"li[data-item='category']\").attr('data-slug'),\r\n                sectionSlug = mainListElement.closest(\"li[data-item='section']\").attr('data-slug'),\r\n                data = $(selectedElement).parents(\"li\").data();\r\n            \r\n            if(data.item == 'chapter'){\r\n                var asset = {\r\n                    type: \"chapter\",\r\n                    link: link,\r\n                    name: data.name,\r\n                    id: data.id,\r\n                    slug: data.slug,\r\n                    breadcrumb: `Home > ${sectionSlug} > ${data.slug}`\r\n                }\r\n                if(productSlug != sectionSlug){\r\n                    asset.breadcrumb = `Home > ${productSlug} > ${data.slug}`;\r\n                }\r\n                return asset\r\n            }\r\n        },\r\n\r\n        // Publish Journey Popup\r\n        showPublishJourneyPopup(e) {\r\n            var journeySlug = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n            this.$('.confirm-publish-journey .confirm-publish').attr('id', journeySlug);\r\n            this.showPopup('confirm-publish-journey');\r\n        },\r\n\r\n        // Confirm Publish Journey\r\n        confirmPublishJourney(e) {\r\n            let journeySlug = this.$(e.currentTarget).attr('id');\r\n            var journey = new Journeys({id: journeySlug, is_publish: true});\r\n            this.actionInProgress('confirm-publish-journey')\r\n            var root = this;\r\n            journey.save(null, {\r\n                patch: true,\r\n                wait: true,\r\n                success(response){\r\n                    root.actionSuccess('confirm-publish-journey', false);\r\n                    root.listAllJourneys();         \r\n                },\r\n                error(xhr, response, error_message){\r\n                    let status, duration;\r\n                    if(response.status == 404 && response.responseJSON.message === \"NO_CONTENT\"){\r\n                        status = 'no-content';\r\n                        duration = 5000;\r\n                    }\r\n                    root.actionFailed('confirm-publish-journey', status, duration);\r\n                }\r\n            });\r\n        },\r\n\r\n        // Enable , Disable Journey Popup\r\n        showEnableDisableJourneyPopup(e) {\r\n            if (this.$(e.target).parents('.journey-actions').siblings('.journeys-details').hasClass('disabled')) {\r\n                var enable_id = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n                this.$('.enable-journey .enable').attr('id', enable_id);\r\n                this.showPopup('enable-journey');\r\n            } else{\r\n                var disable_id = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n                this.$('.disable-journey .disable').attr('id', disable_id);\r\n                this.showPopup('disable-journey');\r\n            };\r\n        },\r\n\r\n        // Enable, Disable Journey Status\r\n        enableDisableJourney(e) {\r\n            let journeySlug = this.$(e.currentTarget).attr('id');\r\n            let is_enabled = !(this.$(e.currentTarget).hasClass('disable'));\r\n            var journey = new Journeys({id: journeySlug, is_enabled: is_enabled});\r\n            is_enabled ? this.actionInProgress('enable-journey') :\r\n                this.actionInProgress('disable-journey')\r\n\r\n            var root = this;\r\n            journey.save(null, {\r\n                patch: true,\r\n                wait: true,\r\n                success(response){\r\n                    is_enabled ? root.actionSuccess('enable-journey', false) :\r\n                        root.actionSuccess('disable-journey', false);\r\n                    root.listAllJourneys();\r\n                    // root.section_id ? root.current_view.load(root.section_id, true) :\r\n                    //     root.current_view = new HomeView();\r\n                },\r\n                error(xhr, status_code, error_message){\r\n                    is_enabled ? root.actionFailed('enable-journey') : root.actionFailed('disable-journey');\r\n                }\r\n            });\r\n        },\r\n\r\n        // Show Delete Journey Popup\r\n        showDeleteJourneyPopup(e){\r\n            var delete_id = this.$(e.currentTarget).parents('.journeys-details-wrap').data('journey-slug');\r\n            this.$('.delete-journey-popup .delete').attr('id', delete_id);\r\n            this.showPopup('delete-journey-popup');\r\n        },\r\n\r\n        // Delete Journey\r\n        deleteJourney(e) {\r\n            var delete_id = this.$(e.currentTarget).attr('id');\r\n            var journey = new Journeys({\r\n                id: delete_id\r\n            });\r\n            this.actionInProgress('delete-journey-popup');\r\n\r\n            var root = this;\r\n            journey.destroy({\r\n                wait:true,\r\n                success(){\r\n                    root.actionSuccess('delete-journey-popup', false);\r\n                    root.listAllJourneys();               \r\n                },\r\n                error(xhr, status_code, error_message){\r\n                    root.actionFailed('delete-journey-popup');\r\n                }\r\n            });\r\n        },\r\n\r\n        // Common function to show popup\r\n        showPopup(popupName) {\r\n            this.$(\".dashboard-overlay\").css({\r\n                \"display\": \"table\"\r\n            });\r\n            this.$(`.dashboard-overlay .popup-box.${popupName}`).show().addClass(\"bounceInDown\");\r\n            setTimeout(() => {\r\n                this.$(`.dashboard-overlay .popup-box.${popupName}`).removeClass(\"bounceInDown\");\r\n            }, 300);\r\n        },\r\n\r\n        // Show language warning while creating Journey/CTA from other than default language\r\n        switchLanguageWarning(){\r\n            this.showPopup('create-warning');\r\n            var warningMsg = `Switch to '${document.defaultLocale}' language to create a new content !`;\r\n            this.$('.create-warning .popup-info').text(warningMsg);\r\n        },\r\n\r\n        // Close Language warning popup\r\n        closeLanguageWarningPopup() {\r\n            this.closePopup('create-warning');\r\n            $('body').removeClass('fixedHeight');\r\n        },\r\n\r\n        // Common function to close popup\r\n        closePopup(popupName, showOverlay) {\r\n            this.$('.edit-tool-tip').remove();\r\n            this.$(\".dashboard-overlay .\" + popupName).addClass(\"bounceOutUp\");\r\n            setTimeout(() => {\r\n                this.$(\".dashboard-overlay .popup-box.\" + popupName).hide().removeClass(\"bounceOutUp\");\r\n                if(!showOverlay) {\r\n                    this.$(\".dashboard-overlay\").hide();\r\n                }\r\n            }, 300);\r\n        },\r\n\r\n        initAutoComplete() {\r\n            let root = this;\r\n            this.$(\".tags-autoComplete\").autocomplete({\r\n                source: root.journeyTags\r\n            });\r\n            this.$(\".options-autoComplete\").autocomplete({\r\n                source: root.journeyTagOptions\r\n            })\r\n        },\r\n\r\n        /**\r\n         * This is a comman function to hide current popup and show a new popup without animation\r\n         * Comman attribues to pass\r\n         *  ele with class name --> trigger-inplace-popup\r\n         *  ele with hide data attr --> data-hidePopup=\"popup class name to hide\"\r\n         *  ele with show data attr --> data-showPopup=\"popup class name to show\"\r\n         */\r\n        replacePopup(e) {\r\n            let popUpData = e.target.dataset;\r\n            if(popUpData.showpopup) {\r\n                this.$(`.${popUpData.showpopup}`).removeClass('hidden');\r\n            }\r\n            if(popUpData.hidepopup) {\r\n                this.$(`.${popUpData.hidepopup}`).addClass('hidden');\r\n            }       \r\n        },\r\n\r\n        // Custom error messages\r\n        customErrorMessage(message, target, elem){\r\n            this.$('.edit-tool-tip').remove();\r\n            var editToolTip = '<div class=\"edit-tool-tip\">'+message+'</div>';\r\n            target.append(editToolTip);\r\n            if(elem) elem.focus();\r\n        },\r\n\r\n        // On submit - Animate progress \r\n        actionInProgress(target){\r\n            this.$('.' + target + ' .adding').addClass(\"slide-in is-submitted\");\r\n        },\r\n        \r\n        // On submit - Failed\r\n        actionFailed(target, status='failed', duration=1000){\r\n            setTimeout(() => {\r\n                this.$(`.${target} .adding`).removeClass(\"slide-in is-submitted\");\r\n                this.$(`.${target} .${status}`).addClass(\"slide-in\");\r\n                setTimeout(() => {\r\n                    this.$(`.${target} .${status}`).removeClass(\"slide-in\");\r\n                }, duration);\r\n            }, 1000);\r\n        },\r\n        \r\n        // On submit - success\r\n        actionSuccess(target, retain_popup){\r\n            let root = this;\r\n            this.$('.' + target + ' .adding').removeClass(\"slide-in is-submitted\");\r\n            this.$('.' + target + ' .added').addClass(\"slide-in\");\r\n            setTimeout(function(){\r\n                this.$('.' + target + ' .added').removeClass(\"slide-in\");\r\n                if(!retain_popup) root.closePopup(target);\r\n            }, 1000);\r\n        }\r\n    });\r\n\r\n    return EditView\r\n});\r\n","/*global define*/\r\ndefine(['underscore',\r\n    'backbone',\r\n    '../models/journeys',\r\n    '../templates/launchpad.handlebars',\r\n    'slick'\r\n], function (_, Backbone, Journeys, Launchpad) {\r\n    'use strict';\r\n\r\n\r\n    var LaunchpadView = Backbone.View.extend({\r\n\r\n        el: '#main_container',\r\n\r\n        template: Launchpad,\r\n        DEFAULT_LINK_ICON: `/static/images/${document.template}/journey/default_asset.jpg`,\r\n        DEFAULT_HTML_ICON: `/static/images/${document.template}/journey/default_asset.jpg`,\r\n\r\n        events: {\r\n            'click .toggle-launch-pad-side-bar': () => {\r\n                $('.launch-pad-player-wrapper').toggleClass('side-bar-open');\r\n            },\r\n            'click .journey-content p': 'changePage',\r\n            'afterChange .journeys-holder': 'handleJourneyChange',\r\n            'scroll .launch-page.active': 'launchPageScroll'\r\n        },\r\n\r\n\r\n        initialize(journeyId) {\r\n            let journeys = new Journeys();\r\n            this.journeySlug = journeyId;\r\n            let initialSlide;\r\n            let root = this;\r\n            journeys.fetch({\r\n                success(model, response) {\r\n                    let journeyAvailable = response.some((journey,i) => {\r\n                        initialSlide = i;\r\n                        return journey.slug == root.journeySlug\r\n                    });\r\n                    if(!journeyAvailable){\r\n                        window.location.href ='/';\r\n                    }\r\n                    _.each(response, journey => {\r\n                        _.each(journey.assets, asset => {\r\n                            if(!asset.thumbnail) {\r\n                                asset.thumbnail = `${document.cdn_url + root.DEFAULT_LINK_ICON}`;\r\n                                if(asset.first_slide == \"html5\") {\r\n                                    asset.thumbnail = `${document.cdn_url + root.DEFAULT_HTML_ICON}`;\r\n                                }\r\n                            }\r\n                        })\r\n                    })\r\n                    response.tenantLogo = root.$('#launch-pad-holder').data('logo');\r\n                    root.$('#launch-pad-holder').html(root.template(response));\r\n                    root.displayJourney();\r\n                    root.$('.journeys-holder').slick({\r\n                        prevArrow: $('.prev-launch-pad'),\r\n                        nextArrow: $('.next-launch-pad'),\r\n                        slidesToShow: 1,\r\n                        slidesToScroll: 1,\r\n                        adaptiveHeight: true,\r\n                        initialSlide: initialSlide\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        displayJourney() {\r\n            this.$('.journey-content p, .launch-page.active, .next-chapter-pop, .side-bar-cta').removeClass('active');\r\n            this.$('.launch-pad-title').html(this.$(`.journey-content[data-journey-slug=${this.journeySlug}]`).attr('data-journey-name'));\r\n            this.$(`.journey-pages[data-journey-slug=${this.journeySlug}] .launch-page:nth-child(1)`).addClass('active');\r\n            this.$(`.journey-content[data-journey-slug=${this.journeySlug}] p:nth-child(1)`).addClass('active');\r\n            this.$(`.side-bar-cta[data-journey-slug=${this.journeySlug}]`).addClass('active');\r\n        },\r\n\r\n        changePage(e) {\r\n            let root = this;\r\n            let chapter = this.$(e.currentTarget).attr('data-chapter');\r\n            root.$('.journey-content p, .launch-page.active, .next-chapter-pop').removeClass('active');\r\n            root.$(`.journey-pages[data-journey-slug=${root.journeySlug}] .launch-page[data-chapter=${chapter}], .journey-content[data-journey-slug=${root.journeySlug}] p[data-chapter=${chapter}]`).addClass('active');\r\n        },\r\n\r\n        handleJourneyChange() {\r\n            let root = this;\r\n            root.journeySlug = root.$('.journey-content.slick-current').attr('data-journey-slug');\r\n            Backbone.history.navigate(root.journeySlug, { replace : true } );\r\n            root.displayJourney();\r\n        },\r\n\r\n        launchPageScroll(e) {\r\n            let page = this.$(e.currentTarget);\r\n            if (page.scrollTop() + page.innerHeight() >= page[0].scrollHeight) {\r\n                page.find('.next-chapter-pop').addClass('active');\r\n            } else {\r\n                page.find('.next-chapter-pop').removeClass('active');\r\n            }\r\n        }\r\n    });\r\n\r\n    return LaunchpadView\r\n});\r\n"],"sourceRoot":""}